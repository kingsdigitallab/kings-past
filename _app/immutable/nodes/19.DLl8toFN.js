import{s as ee,A as ne,b as h,c as R,t as f,d as u,f as m,j as tt,i as G,g as _,h as d,k as Dt,l as qt,m as t,q as x,B as le,p as Qt}from"../chunks/scheduler.DNWStqsm.js";import{S as ae,i as oe,e as re,c as se,a as ie,m as ce,t as he,b as ue,d as ge}from"../chunks/index.cxl-M09p.js";import{e as vt}from"../chunks/each.LDVH8paA.js";import{E as et}from"../chunks/config.DNfGVc1F.js";import{E as de,n as fe,a as _e,h as pe,s as me}from"../chunks/tableColumns.B7vwXWQq.js";function Wt(a,n,r){const s=a.slice();return s[15]=n[r].ethnicity,s[16]=n[r].count,s[17]=n[r].percentage,s}function Xt(a,n,r){const s=a.slice();return s[20]=n[r].gender,s[16]=n[r].count,s[17]=n[r].percentage,s}function Zt(a){let n,r,s=a[16].toLocaleString()+"",C,H,b=a[17]+"",L,k,y,E=a[20]+"",o,g;return{c(){n=h("li"),r=h("strong"),C=f(s),H=f(" ("),L=f(b),k=f(`%)
					`),y=h("em"),o=f(E),g=R()},l(p){n=u(p,"LI",{});var i=m(n);r=u(i,"STRONG",{});var N=m(r);C=_(N,s),N.forEach(d),H=_(i," ("),L=_(i,b),k=_(i,`%)
					`),y=u(i,"EM",{});var I=m(y);o=_(I,E),I.forEach(d),g=G(i),i.forEach(d)},m(p,i){qt(p,n,i),t(n,r),t(r,C),t(n,H),t(n,L),t(n,k),t(n,y),t(y,o),t(n,g)},p(p,i){i&32&&s!==(s=p[16].toLocaleString()+"")&&x(C,s),i&32&&b!==(b=p[17]+"")&&x(L,b),i&32&&E!==(E=p[20]+"")&&x(o,E)},d(p){p&&d(n)}}}function $t(a){let n,r,s=a[16].toLocaleString()+"",C,H,b=a[17]+"",L,k,y,E=a[15]+"",o,g;return{c(){n=h("li"),r=h("strong"),C=f(s),H=f(" ("),L=f(b),k=f(`%)
					`),y=h("em"),o=f(E),g=R()},l(p){n=u(p,"LI",{});var i=m(n);r=u(i,"STRONG",{});var N=m(r);C=_(N,s),N.forEach(d),H=_(i," ("),L=_(i,b),k=_(i,`%)
					`),y=u(i,"EM",{});var I=m(y);o=_(I,E),I.forEach(d),g=G(i),i.forEach(d)},m(p,i){qt(p,n,i),t(n,r),t(r,C),t(n,H),t(n,L),t(n,k),t(n,y),t(y,o),t(n,g)},p(p,i){i&8&&s!==(s=p[16].toLocaleString()+"")&&x(C,s),i&8&&b!==(b=p[17]+"")&&x(L,b),i&8&&E!==(E=p[15]+"")&&x(o,E)},d(p){p&&d(n)}}}function ve(a){let n,r,s,C,H="People",b,L,k=a[8].excerpt+"",y,E,o,g,p="Summary",i,N,I,j,e=a[9].length.toLocaleString()+"",O,D,Ct,Y,At="Completeness",Et,M,B,nt,lt=a[1].toLocaleString()+"",ht,St,ut,bt,Lt,F,at,ot=a[0].toLocaleString()+"",gt,yt,dt,wt,Tt,z,Bt="Gender distribution",Nt,J,Ot,Q,Ft="Ethnicity distribution",Pt,W,Rt,X,Ut="Nationality distribution",Gt,U,Ht,rt,st=a[4].toLocaleString()+"",ft,kt,It,q,xt,A,Z=vt(a[5]),w=[];for(let l=0;l<Z.length;l+=1)w[l]=Zt(Xt(a,Z,l));let $=vt(a[3]),T=[];for(let l=0;l<$.length;l+=1)T[l]=$t(Wt(a,$,l));function te(l){a[14](l)}let Vt={data:a[9],columns:a[11],label:Ce,sortBy:a[12],url:a[10]};return a[2]!==void 0&&(Vt.view=a[2]),q=new de({props:Vt}),ne.push(()=>re(q,"view",te)),{c(){n=h("article"),r=h("header"),s=h("hgroup"),C=h("h1"),C.textContent=H,b=R(),L=h("p"),y=f(k),E=R(),o=h("section"),g=h("h2"),g.textContent=p,i=R(),N=h("p"),I=f("The database currently contains "),j=h("strong"),O=f(e),D=f(` documented people,
			with the following characteristics:`),Ct=R(),Y=h("h3"),Y.textContent=At,Et=R(),M=h("ul"),B=h("li"),nt=h("strong"),ht=f(lt),St=f(`
				(`),ut=f(a[7]),bt=f("%) have biographical information"),Lt=R(),F=h("li"),at=h("strong"),gt=f(ot),yt=f(`
				(`),dt=f(a[6]),wt=f("%) have recorded alternative names"),Tt=R(),z=h("h3"),z.textContent=Bt,Nt=R(),J=h("ul");for(let l=0;l<w.length;l+=1)w[l].c();Ot=R(),Q=h("h3"),Q.textContent=Ft,Pt=R(),W=h("ul");for(let l=0;l<T.length;l+=1)T[l].c();Rt=R(),X=h("h3"),X.textContent=Ut,Gt=R(),U=h("p"),Ht=f("The database includes people from "),rt=h("strong"),ft=f(st),kt=f(`
			distinct nationalities.`),It=R(),se(q.$$.fragment),this.h()},l(l){n=u(l,"ARTICLE",{});var S=m(n);r=u(S,"HEADER",{});var P=m(r);s=u(P,"HGROUP",{});var c=m(s);C=u(c,"H1",{"data-svelte-h":!0}),tt(C)!=="svelte-120h8qb"&&(C.textContent=H),b=G(c),L=u(c,"P",{});var V=m(L);y=_(V,k),V.forEach(d),c.forEach(d),P.forEach(d),E=G(S),o=u(S,"SECTION",{class:!0});var v=m(o);g=u(v,"H2",{"data-svelte-h":!0}),tt(g)!=="svelte-1yu8q5y"&&(g.textContent=p),i=G(v),N=u(v,"P",{class:!0});var _t=m(N);I=_(_t,"The database currently contains "),j=u(_t,"STRONG",{});var jt=m(j);O=_(jt,e),jt.forEach(d),D=_(_t,` documented people,
			with the following characteristics:`),_t.forEach(d),Ct=G(v),Y=u(v,"H3",{"data-svelte-h":!0}),tt(Y)!=="svelte-1v62mo4"&&(Y.textContent=At),Et=G(v),M=u(v,"UL",{});var pt=m(M);B=u(pt,"LI",{});var it=m(B);nt=u(it,"STRONG",{});var Mt=m(nt);ht=_(Mt,lt),Mt.forEach(d),St=_(it,`
				(`),ut=_(it,a[7]),bt=_(it,"%) have biographical information"),it.forEach(d),Lt=G(pt),F=u(pt,"LI",{});var ct=m(F);at=u(ct,"STRONG",{});var Kt=m(at);gt=_(Kt,ot),Kt.forEach(d),yt=_(ct,`
				(`),dt=_(ct,a[6]),wt=_(ct,"%) have recorded alternative names"),ct.forEach(d),pt.forEach(d),Tt=G(v),z=u(v,"H3",{"data-svelte-h":!0}),tt(z)!=="svelte-1txaxcp"&&(z.textContent=Bt),Nt=G(v),J=u(v,"UL",{});var Yt=m(J);for(let K=0;K<w.length;K+=1)w[K].l(Yt);Yt.forEach(d),Ot=G(v),Q=u(v,"H3",{"data-svelte-h":!0}),tt(Q)!=="svelte-1ao27w5"&&(Q.textContent=Ft),Pt=G(v),W=u(v,"UL",{});var zt=m(W);for(let K=0;K<T.length;K+=1)T[K].l(zt);zt.forEach(d),Rt=G(v),X=u(v,"H3",{"data-svelte-h":!0}),tt(X)!=="svelte-c237ws"&&(X.textContent=Ut),Gt=G(v),U=u(v,"P",{class:!0});var mt=m(U);Ht=_(mt,"The database includes people from "),rt=u(mt,"STRONG",{});var Jt=m(rt);ft=_(Jt,st),Jt.forEach(d),kt=_(mt,`
			distinct nationalities.`),mt.forEach(d),v.forEach(d),It=G(S),ie(q.$$.fragment,S),S.forEach(d),this.h()},h(){Dt(N,"class","svelte-1io26ss"),Dt(U,"class","svelte-1io26ss"),Dt(o,"class","svelte-1io26ss")},m(l,S){qt(l,n,S),t(n,r),t(r,s),t(s,C),t(s,b),t(s,L),t(L,y),t(n,E),t(n,o),t(o,g),t(o,i),t(o,N),t(N,I),t(N,j),t(j,O),t(N,D),t(o,Ct),t(o,Y),t(o,Et),t(o,M),t(M,B),t(B,nt),t(nt,ht),t(B,St),t(B,ut),t(B,bt),t(M,Lt),t(M,F),t(F,at),t(at,gt),t(F,yt),t(F,dt),t(F,wt),t(o,Tt),t(o,z),t(o,Nt),t(o,J);for(let P=0;P<w.length;P+=1)w[P]&&w[P].m(J,null);t(o,Ot),t(o,Q),t(o,Pt),t(o,W);for(let P=0;P<T.length;P+=1)T[P]&&T[P].m(W,null);t(o,Rt),t(o,X),t(o,Gt),t(o,U),t(U,Ht),t(U,rt),t(rt,ft),t(U,kt),t(n,It),ce(q,n,null),A=!0},p(l,[S]){if((!A||S&2)&&lt!==(lt=l[1].toLocaleString()+"")&&x(ht,lt),(!A||S&128)&&x(ut,l[7]),(!A||S&1)&&ot!==(ot=l[0].toLocaleString()+"")&&x(gt,ot),(!A||S&64)&&x(dt,l[6]),S&32){Z=vt(l[5]);let c;for(c=0;c<Z.length;c+=1){const V=Xt(l,Z,c);w[c]?w[c].p(V,S):(w[c]=Zt(V),w[c].c(),w[c].m(J,null))}for(;c<w.length;c+=1)w[c].d(1);w.length=Z.length}if(S&8){$=vt(l[3]);let c;for(c=0;c<$.length;c+=1){const V=Wt(l,$,c);T[c]?T[c].p(V,S):(T[c]=$t(V),T[c].c(),T[c].m(W,null))}for(;c<T.length;c+=1)T[c].d(1);T.length=$.length}(!A||S&16)&&st!==(st=l[4].toLocaleString()+"")&&x(ft,st);const P={};!xt&&S&4&&(xt=!0,P.view=l[2],le(()=>xt=!1)),q.$set(P)},i(l){A||(he(q.$$.fragment,l),A=!0)},o(l){ue(q.$$.fragment,l),A=!1},d(l){l&&d(n),Qt(w,l),Qt(T,l),ge(q)}}}const Ce="people";function Ee(a,n,r){let s,C,H,b,L,k,y,{data:E}=n;const{_metadata:o,people:g,url:p}=E,i=[{header:"Slug",accessor:"slug"},fe,_e,{header:"Gender",accessor:"gender",cell:({value:e})=>e??et,plugins:{sort:{getSortValue(e){return(e||"").toLowerCase()}}}},{header:"Nationality",accessor:"nationality",cell:({value:e})=>e??et,plugins:{sort:{getSortValue(e){return(e||"").toLowerCase()}}}},{header:"Ethnicity",accessor:"ethnicity",cell:({value:e})=>e??et,plugins:{sort:{getSortValue(e){return(e||"").toLowerCase()}}}},{header:"Language",accessor:"language",cell:({value:e})=>e??et,plugins:{sort:{getSortValue(e){return(e||"").toLowerCase()}}}},pe,me],N={initialSortKeys:[{id:"name",order:"asc"}]};let I="cards";function j(e){I=e,r(2,I)}return a.$$set=e=>{"data"in e&&r(13,E=e.data)},a.$$.update=()=>{a.$$.dirty&2&&r(7,C=(s/g.length*100).toFixed(1)),a.$$.dirty&1&&r(6,b=(H/g.length*100).toFixed(1))},r(1,s=g.filter(e=>e.description).length),r(0,H=g.filter(e=>e.alternative_names).length),r(5,L=Object.entries(g.reduce((e,O)=>{const D=O.gender??et;return e[D]=(e[D]||0)+1,e},{})).map(([e,O])=>({gender:e,count:O})).sort((e,O)=>e.gender.localeCompare(O.gender)).map(e=>({...e,percentage:(e.count/g.length*100).toFixed(1)}))),r(4,k=[...new Set(g.map(e=>e.nationality))].filter(Boolean).length),r(3,y=Object.entries(g.reduce((e,O)=>{const D=O.ethnicity??et;return e[D]=(e[D]||0)+1,e},{})).map(([e,O])=>({ethnicity:e,count:O})).sort((e,O)=>e.ethnicity.localeCompare(O.ethnicity)).map(e=>({...e,percentage:(e.count/g.length*100).toFixed(1)}))),[H,s,I,y,k,L,b,C,o,g,p,i,N,E,j]}class Te extends ae{constructor(n){super(),oe(this,n,Ee,ve,ee,{data:13})}}export{Te as component};
