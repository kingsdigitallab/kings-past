import{s as we,b as c,c as S,t as _,d as u,f as d,j as K,i as L,g as m,h as g,k as x,A as Pt,l as ae,m as t,B as ve,w as U,p as Ce,x as Te}from"../chunks/scheduler.LQm4IwSl.js";import{S as ye,i as Ne,c as Xt,a as Zt,m as te,t as ee,b as le,d as ne}from"../chunks/index.DedpKyNE.js";import{e as Rt}from"../chunks/each.B3nx5VG0.js";import{E as ct}from"../chunks/config.DNfGVc1F.js";import{E as Oe,n as Pe,a as Re,h as ke,s as Ge}from"../chunks/tableColumns.C3DE0m41.js";import{L as He}from"../chunks/layout-grid.C4mA3tDi.js";import{T as $e}from"../chunks/table.iU1gjXi7.js";function Ee(a,l,r){const s=a.slice();return s[15]=l[r].ethnicity,s[16]=l[r].count,s[17]=l[r].percentage,s}function be(a,l,r){const s=a.slice();return s[20]=l[r].gender,s[16]=l[r].count,s[17]=l[r].percentage,s}function Se(a){let l,r,s=a[16].toLocaleString()+"",E,G,w=a[17]+"",T,H,y,b=a[20]+"",o,f;return{c(){l=c("li"),r=c("strong"),E=_(s),G=_(" ("),T=_(w),H=_(`%)
					`),y=c("em"),o=_(b),f=S()},l(p){l=u(p,"LI",{});var i=d(l);r=u(i,"STRONG",{});var P=d(r);E=m(P,s),P.forEach(g),G=m(i," ("),T=m(i,w),H=m(i,`%)
					`),y=u(i,"EM",{});var $=d(y);o=m($,b),$.forEach(g),f=L(i),i.forEach(g)},m(p,i){ae(p,l,i),t(l,r),t(r,E),t(l,G),t(l,T),t(l,H),t(l,y),t(y,o),t(l,f)},p(p,i){i&32&&s!==(s=p[16].toLocaleString()+"")&&U(E,s),i&32&&w!==(w=p[17]+"")&&U(T,w),i&32&&b!==(b=p[20]+"")&&U(o,b)},d(p){p&&g(l)}}}function Le(a){let l,r,s=a[16].toLocaleString()+"",E,G,w=a[17]+"",T,H,y,b=a[15]+"",o,f;return{c(){l=c("li"),r=c("strong"),E=_(s),G=_(" ("),T=_(w),H=_(`%)
					`),y=c("em"),o=_(b),f=S()},l(p){l=u(p,"LI",{});var i=d(l);r=u(i,"STRONG",{});var P=d(r);E=m(P,s),P.forEach(g),G=m(i," ("),T=m(i,w),H=m(i,`%)
					`),y=u(i,"EM",{});var $=d(y);o=m($,b),$.forEach(g),f=L(i),i.forEach(g)},m(p,i){ae(p,l,i),t(l,r),t(r,E),t(l,G),t(l,T),t(l,H),t(l,y),t(y,o),t(l,f)},p(p,i){i&8&&s!==(s=p[16].toLocaleString()+"")&&U(E,s),i&8&&w!==(w=p[17]+"")&&U(T,w),i&8&&b!==(b=p[15]+"")&&U(o,b)},d(p){p&&g(l)}}}function Ie(a){let l,r,s,E,G="People",w,T,H=a[8].excerpt+"",y,b,o,f,p="Summary",i,P,$,Y,e=a[9].length.toLocaleString()+"",R,D,kt,et,oe="Completeness",Gt,J,V,ut,ht=a[1].toLocaleString()+"",vt,Ht,Ct,$t,It,F,gt,ft=a[0].toLocaleString()+"",Et,At,bt,Bt,Ut,lt,re="Gender distribution",xt,nt,Dt,at,se="Ethnicity distribution",Vt,ot,Ft,rt,ie="Nationality distribution",jt,j,qt,dt,_t=a[4].toLocaleString()+"",St,Mt,zt,q,I,Q,Kt,W,ce="Show cards",Yt,A,X,Jt,Z,ue="Show table",Qt,M,B,Wt,he,st=Rt(a[5]),N=[];for(let n=0;n<st.length;n+=1)N[n]=Se(be(a,st,n));let it=Rt(a[3]),O=[];for(let n=0;n<it.length;n+=1)O[n]=Le(Ee(a,it,n));return Q=new He({props:{size:24}}),X=new $e({props:{size:24}}),M=new Oe({props:{data:a[9],columns:a[11],label:Ae,sortBy:a[12],url:a[10],view:a[2]}}),{c(){l=c("article"),r=c("header"),s=c("hgroup"),E=c("h1"),E.textContent=G,w=S(),T=c("p"),y=_(H),b=S(),o=c("section"),f=c("h2"),f.textContent=p,i=S(),P=c("p"),$=_("The database currently contains "),Y=c("strong"),R=_(e),D=_(` documented people,
			with the following characteristics:`),kt=S(),et=c("h3"),et.textContent=oe,Gt=S(),J=c("ul"),V=c("li"),ut=c("strong"),vt=_(ht),Ht=_(`
				(`),Ct=_(a[7]),$t=_("%) have biographical information"),It=S(),F=c("li"),gt=c("strong"),Et=_(ft),At=_(`
				(`),bt=_(a[6]),Bt=_("%) have recorded alternative names"),Ut=S(),lt=c("h3"),lt.textContent=re,xt=S(),nt=c("ul");for(let n=0;n<N.length;n+=1)N[n].c();Dt=S(),at=c("h3"),at.textContent=se,Vt=S(),ot=c("ul");for(let n=0;n<O.length;n+=1)O[n].c();Ft=S(),rt=c("h3"),rt.textContent=ie,jt=S(),j=c("p"),qt=_("The database includes people from "),dt=c("strong"),St=_(_t),Mt=_(`
			distinct nationalities.`),zt=S(),q=c("section"),I=c("button"),Xt(Q.$$.fragment),Kt=S(),W=c("span"),W.textContent=ce,Yt=S(),A=c("button"),Xt(X.$$.fragment),Jt=S(),Z=c("span"),Z.textContent=ue,Qt=S(),Xt(M.$$.fragment),this.h()},l(n){l=u(n,"ARTICLE",{});var v=d(l);r=u(v,"HEADER",{});var k=d(r);s=u(k,"HGROUP",{});var h=d(s);E=u(h,"H1",{"data-svelte-h":!0}),K(E)!=="svelte-120h8qb"&&(E.textContent=G),w=L(h),T=u(h,"P",{});var z=d(T);y=m(z,H),z.forEach(g),h.forEach(g),k.forEach(g),b=L(v),o=u(v,"SECTION",{class:!0});var C=d(o);f=u(C,"H2",{"data-svelte-h":!0}),K(f)!=="svelte-1yu8q5y"&&(f.textContent=p),i=L(C),P=u(C,"P",{class:!0});var Lt=d(P);$=m(Lt,"The database currently contains "),Y=u(Lt,"STRONG",{});var ge=d(Y);R=m(ge,e),ge.forEach(g),D=m(Lt,` documented people,
			with the following characteristics:`),Lt.forEach(g),kt=L(C),et=u(C,"H3",{"data-svelte-h":!0}),K(et)!=="svelte-1v62mo4"&&(et.textContent=oe),Gt=L(C),J=u(C,"UL",{});var wt=d(J);V=u(wt,"LI",{});var mt=d(V);ut=u(mt,"STRONG",{});var fe=d(ut);vt=m(fe,ht),fe.forEach(g),Ht=m(mt,`
				(`),Ct=m(mt,a[7]),$t=m(mt,"%) have biographical information"),mt.forEach(g),It=L(wt),F=u(wt,"LI",{});var pt=d(F);gt=u(pt,"STRONG",{});var de=d(gt);Et=m(de,ft),de.forEach(g),At=m(pt,`
				(`),bt=m(pt,a[6]),Bt=m(pt,"%) have recorded alternative names"),pt.forEach(g),wt.forEach(g),Ut=L(C),lt=u(C,"H3",{"data-svelte-h":!0}),K(lt)!=="svelte-1txaxcp"&&(lt.textContent=re),xt=L(C),nt=u(C,"UL",{});var _e=d(nt);for(let tt=0;tt<N.length;tt+=1)N[tt].l(_e);_e.forEach(g),Dt=L(C),at=u(C,"H3",{"data-svelte-h":!0}),K(at)!=="svelte-1ao27w5"&&(at.textContent=se),Vt=L(C),ot=u(C,"UL",{});var me=d(ot);for(let tt=0;tt<O.length;tt+=1)O[tt].l(me);me.forEach(g),Ft=L(C),rt=u(C,"H3",{"data-svelte-h":!0}),K(rt)!=="svelte-c237ws"&&(rt.textContent=ie),jt=L(C),j=u(C,"P",{class:!0});var Tt=d(j);qt=m(Tt,"The database includes people from "),dt=u(Tt,"STRONG",{});var pe=d(dt);St=m(pe,_t),pe.forEach(g),Mt=m(Tt,`
			distinct nationalities.`),Tt.forEach(g),C.forEach(g),zt=L(v),q=u(v,"SECTION",{class:!0});var yt=d(q);I=u(yt,"BUTTON",{"aria-label":!0,class:!0});var Nt=d(I);Zt(Q.$$.fragment,Nt),Kt=L(Nt),W=u(Nt,"SPAN",{class:!0,"data-svelte-h":!0}),K(W)!=="svelte-a7g15k"&&(W.textContent=ce),Nt.forEach(g),Yt=L(yt),A=u(yt,"BUTTON",{"aria-label":!0,class:!0});var Ot=d(A);Zt(X.$$.fragment,Ot),Jt=L(Ot),Z=u(Ot,"SPAN",{class:!0,"data-svelte-h":!0}),K(Z)!=="svelte-144in73"&&(Z.textContent=ue),Ot.forEach(g),yt.forEach(g),Qt=L(v),Zt(M.$$.fragment,v),v.forEach(g),this.h()},h(){x(P,"class","svelte-1nogdsl"),x(j,"class","svelte-1nogdsl"),x(o,"class","svelte-1nogdsl"),x(W,"class","svelte-1nogdsl"),x(I,"aria-label","Show card view"),x(I,"class","svelte-1nogdsl"),Pt(I,"active",a[2]==="cards"),x(Z,"class","svelte-1nogdsl"),x(A,"aria-label","Show table view"),x(A,"class","svelte-1nogdsl"),Pt(A,"active",a[2]==="table"),x(q,"class","view-toggle svelte-1nogdsl")},m(n,v){ae(n,l,v),t(l,r),t(r,s),t(s,E),t(s,w),t(s,T),t(T,y),t(l,b),t(l,o),t(o,f),t(o,i),t(o,P),t(P,$),t(P,Y),t(Y,R),t(P,D),t(o,kt),t(o,et),t(o,Gt),t(o,J),t(J,V),t(V,ut),t(ut,vt),t(V,Ht),t(V,Ct),t(V,$t),t(J,It),t(J,F),t(F,gt),t(gt,Et),t(F,At),t(F,bt),t(F,Bt),t(o,Ut),t(o,lt),t(o,xt),t(o,nt);for(let k=0;k<N.length;k+=1)N[k]&&N[k].m(nt,null);t(o,Dt),t(o,at),t(o,Vt),t(o,ot);for(let k=0;k<O.length;k+=1)O[k]&&O[k].m(ot,null);t(o,Ft),t(o,rt),t(o,jt),t(o,j),t(j,qt),t(j,dt),t(dt,St),t(j,Mt),t(l,zt),t(l,q),t(q,I),te(Q,I,null),t(I,Kt),t(I,W),t(q,Yt),t(q,A),te(X,A,null),t(A,Jt),t(A,Z),t(l,Qt),te(M,l,null),B=!0,Wt||(he=[ve(I,"click",a[13]),ve(A,"click",a[13])],Wt=!0)},p(n,[v]){if((!B||v&2)&&ht!==(ht=n[1].toLocaleString()+"")&&U(vt,ht),(!B||v&128)&&U(Ct,n[7]),(!B||v&1)&&ft!==(ft=n[0].toLocaleString()+"")&&U(Et,ft),(!B||v&64)&&U(bt,n[6]),v&32){st=Rt(n[5]);let h;for(h=0;h<st.length;h+=1){const z=be(n,st,h);N[h]?N[h].p(z,v):(N[h]=Se(z),N[h].c(),N[h].m(nt,null))}for(;h<N.length;h+=1)N[h].d(1);N.length=st.length}if(v&8){it=Rt(n[3]);let h;for(h=0;h<it.length;h+=1){const z=Ee(n,it,h);O[h]?O[h].p(z,v):(O[h]=Le(z),O[h].c(),O[h].m(ot,null))}for(;h<O.length;h+=1)O[h].d(1);O.length=it.length}(!B||v&16)&&_t!==(_t=n[4].toLocaleString()+"")&&U(St,_t),(!B||v&4)&&Pt(I,"active",n[2]==="cards"),(!B||v&4)&&Pt(A,"active",n[2]==="table");const k={};v&4&&(k.view=n[2]),M.$set(k)},i(n){B||(ee(Q.$$.fragment,n),ee(X.$$.fragment,n),ee(M.$$.fragment,n),B=!0)},o(n){le(Q.$$.fragment,n),le(X.$$.fragment,n),le(M.$$.fragment,n),B=!1},d(n){n&&g(l),Ce(N,n),Ce(O,n),ne(Q),ne(X),ne(M),Wt=!1,Te(he)}}}const Ae="people";function Be(a,l,r){let s,E,G,w,T,H,y,{data:b}=l;const{_metadata:o,people:f,url:p}=b,i=[{header:"Slug",accessor:"slug"},Pe,Re,{header:"Gender",accessor:"gender",cell:({value:e})=>e??ct,plugins:{sort:{getSortValue(e){return(e||"").toLowerCase()}}}},{header:"Nationality",accessor:"nationality",cell:({value:e})=>e??ct,plugins:{sort:{getSortValue(e){return(e||"").toLowerCase()}}}},{header:"Ethnicity",accessor:"ethnicity",cell:({value:e})=>e??ct,plugins:{sort:{getSortValue(e){return(e||"").toLowerCase()}}}},{header:"Language",accessor:"language",cell:({value:e})=>e??ct,plugins:{sort:{getSortValue(e){return(e||"").toLowerCase()}}}},ke,Ge],P={initialSortKeys:[{id:"name",order:"asc"}]};let $="cards";function Y(){r(2,$=$==="table"?"cards":"table")}return a.$$set=e=>{"data"in e&&r(14,b=e.data)},a.$$.update=()=>{a.$$.dirty&2&&r(7,E=(s/f.length*100).toFixed(1)),a.$$.dirty&1&&r(6,w=(G/f.length*100).toFixed(1))},r(1,s=f.filter(e=>e.description).length),r(0,G=f.filter(e=>e.alternative_names).length),r(5,T=Object.entries(f.reduce((e,R)=>{const D=R.gender??ct;return e[D]=(e[D]||0)+1,e},{})).map(([e,R])=>({gender:e,count:R})).sort((e,R)=>e.gender.localeCompare(R.gender)).map(e=>({...e,percentage:(e.count/f.length*100).toFixed(1)}))),r(4,H=[...new Set(f.map(e=>e.nationality))].filter(Boolean).length),r(3,y=Object.entries(f.reduce((e,R)=>{const D=R.ethnicity??ct;return e[D]=(e[D]||0)+1,e},{})).map(([e,R])=>({ethnicity:e,count:R})).sort((e,R)=>e.ethnicity.localeCompare(R.ethnicity)).map(e=>({...e,percentage:(e.count/f.length*100).toFixed(1)}))),[G,s,$,y,H,T,w,E,o,f,p,i,P,Y,b]}class Me extends ye{constructor(l){super(),Ne(this,l,Be,Ie,we,{data:14})}}export{Me as component};
