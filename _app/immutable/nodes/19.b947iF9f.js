import{s as Se,b as c,c as k,t as f,d as h,f as _,j as rt,i as N,g as d,h as g,k as st,A as Nt,l as ae,m as t,B as me,w as B,p as ve,x as Le}from"../chunks/scheduler.LQm4IwSl.js";import{S as we,i as Te,c as Zt,a as xt,m as te,t as ee,b as le,d as ne}from"../chunks/index.DedpKyNE.js";import{e as Ot}from"../chunks/each.B3nx5VG0.js";import{E as it}from"../chunks/config.BxWnEpPT.js";import{E as ye,n as ke,a as Ne,h as Oe,s as Pe}from"../chunks/tableColumns.IRhMB3bd.js";import{T as Re}from"../chunks/table.BH2k4uEf.js";import{L as Ge}from"../chunks/layout-grid.CFG4o5ws.js";function pe(a,l,o){const i=a.slice();return i[16]=l[o].ethnicity,i[17]=l[o].count,i[18]=l[o].percentage,i}function Ee(a,l,o){const i=a.slice();return i[21]=l[o].gender,i[17]=l[o].count,i[18]=l[o].percentage,i}function Ce(a){let l,o,i=a[17].toLocaleString()+"",C,G,S=a[18]+"",L,H,w,b=a[21]+"",r,m;return{c(){l=c("li"),o=c("strong"),C=f(i),G=f(" ("),L=f(S),H=f(`%)
					`),w=c("em"),r=f(b),m=k()},l(v){l=h(v,"LI",{});var s=_(l);o=h(s,"STRONG",{});var O=_(o);C=d(O,i),O.forEach(g),G=d(s," ("),L=d(s,S),H=d(s,`%)
					`),w=h(s,"EM",{});var I=_(w);r=d(I,b),I.forEach(g),m=N(s),s.forEach(g)},m(v,s){ae(v,l,s),t(l,o),t(o,C),t(l,G),t(l,L),t(l,H),t(l,w),t(w,r),t(l,m)},p(v,s){s&32&&i!==(i=v[17].toLocaleString()+"")&&B(C,i),s&32&&S!==(S=v[18]+"")&&B(L,S),s&32&&b!==(b=v[21]+"")&&B(r,b)},d(v){v&&g(l)}}}function be(a){let l,o,i=a[17].toLocaleString()+"",C,G,S=a[18]+"",L,H,w,b=a[16]+"",r,m;return{c(){l=c("li"),o=c("strong"),C=f(i),G=f(" ("),L=f(S),H=f(`%)
					`),w=c("em"),r=f(b),m=k()},l(v){l=h(v,"LI",{});var s=_(l);o=h(s,"STRONG",{});var O=_(o);C=d(O,i),O.forEach(g),G=d(s," ("),L=d(s,S),H=d(s,`%)
					`),w=h(s,"EM",{});var I=_(w);r=d(I,b),I.forEach(g),m=N(s),s.forEach(g)},m(v,s){ae(v,l,s),t(l,o),t(o,C),t(l,G),t(l,L),t(l,H),t(l,w),t(w,r),t(l,m)},p(v,s){s&8&&i!==(i=v[17].toLocaleString()+"")&&B(C,i),s&8&&S!==(S=v[18]+"")&&B(L,S),s&8&&b!==(b=v[16]+"")&&B(r,b)},d(v){v&&g(l)}}}function He(a){let l,o,i,C,G="People",S,L,H=a[8].excerpt+"",w,b,r,m,v="Summary",s,O,I,Y,vt=a[9].length.toLocaleString()+"",e,P,V,Z,oe="Completeness",Pt,z,A,ct,ht=a[1].toLocaleString()+"",pt,Rt,Et,Gt,Ht,F,ut,gt=a[0].toLocaleString()+"",Ct,It,bt,$t,Bt,x,re="Gender distribution",Dt,tt,Ut,et,se="Ethnicity distribution",Vt,lt,At,nt,ie="Nationality distribution",Ft,j,jt,ft,dt=a[4].toLocaleString()+"",St,qt,Mt,J,q,D,Q,Kt,Yt,U,W,zt,Jt,M,$,Qt,ce,at=Ot(a[5]),T=[];for(let n=0;n<at.length;n+=1)T[n]=Ce(Ee(a,at,n));let ot=Ot(a[3]),y=[];for(let n=0;n<ot.length;n+=1)y[n]=be(pe(a,ot,n));return Q=new Re({}),W=new Ge({}),M=new ye({props:{data:a[9],columns:a[11],label:Ie,sortBy:a[12],url:a[10],view:a[2]}}),{c(){l=c("article"),o=c("header"),i=c("hgroup"),C=c("h1"),C.textContent=G,S=k(),L=c("p"),w=f(H),b=k(),r=c("section"),m=c("h2"),m.textContent=v,s=k(),O=c("p"),I=f("The database currently contains "),Y=c("strong"),e=f(vt),P=f(` documented people,
			with the following characteristics:`),V=k(),Z=c("h3"),Z.textContent=oe,Pt=k(),z=c("ul"),A=c("li"),ct=c("strong"),pt=f(ht),Rt=f(`
				(`),Et=f(a[7]),Gt=f("%) have biographical information"),Ht=k(),F=c("li"),ut=c("strong"),Ct=f(gt),It=f(`
				(`),bt=f(a[6]),$t=f("%) have recorded alternative names"),Bt=k(),x=c("h3"),x.textContent=re,Dt=k(),tt=c("ul");for(let n=0;n<T.length;n+=1)T[n].c();Ut=k(),et=c("h3"),et.textContent=se,Vt=k(),lt=c("ul");for(let n=0;n<y.length;n+=1)y[n].c();At=k(),nt=c("h3"),nt.textContent=ie,Ft=k(),j=c("p"),jt=f("The database includes people from "),ft=c("strong"),St=f(dt),qt=f(`
			distinct nationalities.`),Mt=k(),J=c("section"),q=c("div"),D=c("button"),Zt(Q.$$.fragment),Kt=f("Table view"),Yt=k(),U=c("button"),Zt(W.$$.fragment),zt=f("Card view"),Jt=k(),Zt(M.$$.fragment),this.h()},l(n){l=h(n,"ARTICLE",{});var p=_(l);o=h(p,"HEADER",{});var R=_(o);i=h(R,"HGROUP",{});var u=_(i);C=h(u,"H1",{"data-svelte-h":!0}),rt(C)!=="svelte-120h8qb"&&(C.textContent=G),S=N(u),L=h(u,"P",{});var K=_(L);w=d(K,H),K.forEach(g),u.forEach(g),R.forEach(g),b=N(p),r=h(p,"SECTION",{class:!0});var E=_(r);m=h(E,"H2",{"data-svelte-h":!0}),rt(m)!=="svelte-1yu8q5y"&&(m.textContent=v),s=N(E),O=h(E,"P",{class:!0});var Lt=_(O);I=d(Lt,"The database currently contains "),Y=h(Lt,"STRONG",{});var he=_(Y);e=d(he,vt),he.forEach(g),P=d(Lt,` documented people,
			with the following characteristics:`),Lt.forEach(g),V=N(E),Z=h(E,"H3",{"data-svelte-h":!0}),rt(Z)!=="svelte-1v62mo4"&&(Z.textContent=oe),Pt=N(E),z=h(E,"UL",{});var wt=_(z);A=h(wt,"LI",{});var _t=_(A);ct=h(_t,"STRONG",{});var ue=_(ct);pt=d(ue,ht),ue.forEach(g),Rt=d(_t,`
				(`),Et=d(_t,a[7]),Gt=d(_t,"%) have biographical information"),_t.forEach(g),Ht=N(wt),F=h(wt,"LI",{});var mt=_(F);ut=h(mt,"STRONG",{});var ge=_(ut);Ct=d(ge,gt),ge.forEach(g),It=d(mt,`
				(`),bt=d(mt,a[6]),$t=d(mt,"%) have recorded alternative names"),mt.forEach(g),wt.forEach(g),Bt=N(E),x=h(E,"H3",{"data-svelte-h":!0}),rt(x)!=="svelte-1txaxcp"&&(x.textContent=re),Dt=N(E),tt=h(E,"UL",{});var fe=_(tt);for(let X=0;X<T.length;X+=1)T[X].l(fe);fe.forEach(g),Ut=N(E),et=h(E,"H3",{"data-svelte-h":!0}),rt(et)!=="svelte-1ao27w5"&&(et.textContent=se),Vt=N(E),lt=h(E,"UL",{});var de=_(lt);for(let X=0;X<y.length;X+=1)y[X].l(de);de.forEach(g),At=N(E),nt=h(E,"H3",{"data-svelte-h":!0}),rt(nt)!=="svelte-c237ws"&&(nt.textContent=ie),Ft=N(E),j=h(E,"P",{class:!0});var Tt=_(j);jt=d(Tt,"The database includes people from "),ft=h(Tt,"STRONG",{});var _e=_(ft);St=d(_e,dt),_e.forEach(g),qt=d(Tt,`
			distinct nationalities.`),Tt.forEach(g),E.forEach(g),Mt=N(p),J=h(p,"SECTION",{});var yt=_(J);q=h(yt,"DIV",{class:!0});var kt=_(q);D=h(kt,"BUTTON",{class:!0});var Wt=_(D);xt(Q.$$.fragment,Wt),Kt=d(Wt,"Table view"),Wt.forEach(g),Yt=N(kt),U=h(kt,"BUTTON",{class:!0});var Xt=_(U);xt(W.$$.fragment,Xt),zt=d(Xt,"Card view"),Xt.forEach(g),kt.forEach(g),Jt=N(yt),xt(M.$$.fragment,yt),yt.forEach(g),p.forEach(g),this.h()},h(){st(O,"class","svelte-1ck7v40"),st(j,"class","svelte-1ck7v40"),st(r,"class","svelte-1ck7v40"),st(D,"class","svelte-1ck7v40"),Nt(D,"active",a[2]==="table"),st(U,"class","svelte-1ck7v40"),Nt(U,"active",a[2]==="cards"),st(q,"class","view-toggle svelte-1ck7v40")},m(n,p){ae(n,l,p),t(l,o),t(o,i),t(i,C),t(i,S),t(i,L),t(L,w),t(l,b),t(l,r),t(r,m),t(r,s),t(r,O),t(O,I),t(O,Y),t(Y,e),t(O,P),t(r,V),t(r,Z),t(r,Pt),t(r,z),t(z,A),t(A,ct),t(ct,pt),t(A,Rt),t(A,Et),t(A,Gt),t(z,Ht),t(z,F),t(F,ut),t(ut,Ct),t(F,It),t(F,bt),t(F,$t),t(r,Bt),t(r,x),t(r,Dt),t(r,tt);for(let R=0;R<T.length;R+=1)T[R]&&T[R].m(tt,null);t(r,Ut),t(r,et),t(r,Vt),t(r,lt);for(let R=0;R<y.length;R+=1)y[R]&&y[R].m(lt,null);t(r,At),t(r,nt),t(r,Ft),t(r,j),t(j,jt),t(j,ft),t(ft,St),t(j,qt),t(l,Mt),t(l,J),t(J,q),t(q,D),te(Q,D,null),t(D,Kt),t(q,Yt),t(q,U),te(W,U,null),t(U,zt),t(J,Jt),te(M,J,null),$=!0,Qt||(ce=[me(D,"click",a[14]),me(U,"click",a[15])],Qt=!0)},p(n,[p]){if((!$||p&2)&&ht!==(ht=n[1].toLocaleString()+"")&&B(pt,ht),(!$||p&128)&&B(Et,n[7]),(!$||p&1)&&gt!==(gt=n[0].toLocaleString()+"")&&B(Ct,gt),(!$||p&64)&&B(bt,n[6]),p&32){at=Ot(n[5]);let u;for(u=0;u<at.length;u+=1){const K=Ee(n,at,u);T[u]?T[u].p(K,p):(T[u]=Ce(K),T[u].c(),T[u].m(tt,null))}for(;u<T.length;u+=1)T[u].d(1);T.length=at.length}if(p&8){ot=Ot(n[3]);let u;for(u=0;u<ot.length;u+=1){const K=pe(n,ot,u);y[u]?y[u].p(K,p):(y[u]=be(K),y[u].c(),y[u].m(lt,null))}for(;u<y.length;u+=1)y[u].d(1);y.length=ot.length}(!$||p&16)&&dt!==(dt=n[4].toLocaleString()+"")&&B(St,dt),(!$||p&4)&&Nt(D,"active",n[2]==="table"),(!$||p&4)&&Nt(U,"active",n[2]==="cards");const R={};p&4&&(R.view=n[2]),M.$set(R)},i(n){$||(ee(Q.$$.fragment,n),ee(W.$$.fragment,n),ee(M.$$.fragment,n),$=!0)},o(n){le(Q.$$.fragment,n),le(W.$$.fragment,n),le(M.$$.fragment,n),$=!1},d(n){n&&g(l),ve(T,n),ve(y,n),ne(Q),ne(W),ne(M),Qt=!1,Le(ce)}}}const Ie="people";function $e(a,l,o){let i,C,G,S,L,H,w,{data:b}=l;const{_metadata:r,people:m,url:v}=b;let s="table";const O=[{header:"Slug",accessor:"slug"},ke,Ne,{header:"Gender",accessor:"gender",cell:({value:e})=>e??it,plugins:{sort:{getSortValue(e){return(e||"").toLowerCase()}}}},{header:"Nationality",accessor:"nationality",cell:({value:e})=>e??it,plugins:{sort:{getSortValue(e){return(e||"").toLowerCase()}}}},{header:"Ethnicity",accessor:"ethnicity",cell:({value:e})=>e??it,plugins:{sort:{getSortValue(e){return(e||"").toLowerCase()}}}},{header:"Language",accessor:"language",cell:({value:e})=>e??it,plugins:{sort:{getSortValue(e){return(e||"").toLowerCase()}}}},Oe,Pe],I={initialSortKeys:[{id:"name",order:"asc"}]},Y=()=>o(2,s="table"),vt=()=>o(2,s="cards");return a.$$set=e=>{"data"in e&&o(13,b=e.data)},a.$$.update=()=>{a.$$.dirty&2&&o(7,C=(i/m.length*100).toFixed(1)),a.$$.dirty&1&&o(6,S=(G/m.length*100).toFixed(1))},o(1,i=m.filter(e=>e.description).length),o(0,G=m.filter(e=>e.alternative_names).length),o(5,L=Object.entries(m.reduce((e,P)=>{const V=P.gender??it;return e[V]=(e[V]||0)+1,e},{})).map(([e,P])=>({gender:e,count:P})).sort((e,P)=>e.gender.localeCompare(P.gender)).map(e=>({...e,percentage:(e.count/m.length*100).toFixed(1)}))),o(4,H=[...new Set(m.map(e=>e.nationality))].filter(Boolean).length),o(3,w=Object.entries(m.reduce((e,P)=>{const V=P.ethnicity??it;return e[V]=(e[V]||0)+1,e},{})).map(([e,P])=>({ethnicity:e,count:P})).sort((e,P)=>e.ethnicity.localeCompare(P.ethnicity)).map(e=>({...e,percentage:(e.count/m.length*100).toFixed(1)}))),[G,i,s,w,H,L,S,C,r,m,v,O,I,b,Y,vt]}class qe extends we{constructor(l){super(),Te(this,l,$e,He,Se,{data:13})}}export{qe as component};
