import{s as oe,b as l,c as T,t as h,d as s,f as i,j as ct,i as x,g as u,h as r,k as E,l as ne,m as t,q as A,p as re}from"../chunks/scheduler.BFCMfM9_.js";import{S as ie,i as ce,c as he,a as ue,m as de,t as ge,b as fe,d as _e}from"../chunks/index.mj2WGaPU.js";import{e as ae}from"../chunks/each.B2PkbbDs.js";import{E as me,n as ve,a as pe,l as Ee,s as Ce}from"../chunks/tableColumns.CnCzOLz3.js";import{E as zt}from"../chunks/config.CN8WCQTz.js";function le(n,a,c){const d=n.slice();return d[13]=a[c].type,d[14]=a[c].count,d[15]=a[c].percentage,d}function se(n){let a,c,d=n[14].toLocaleString()+"",C,O,b=n[15]+"",S,N,L,R=n[13]+"",g,y;return{c(){a=l("li"),c=l("strong"),C=h(d),O=h(" ("),S=h(b),N=h(`%)
							`),L=l("em"),g=h(R),y=T(),this.h()},l(_){a=s(_,"LI",{class:!0});var m=i(a);c=s(m,"STRONG",{});var k=i(c);C=u(k,d),k.forEach(r),O=u(m," ("),S=u(m,b),N=u(m,`%)
							`),L=s(m,"EM",{});var e=i(L);g=u(e,R),e.forEach(r),y=x(m),m.forEach(r),this.h()},h(){E(a,"class","svelte-2lx9ti")},m(_,m){ne(_,a,m),t(a,c),t(c,C),t(a,O),t(a,S),t(a,N),t(a,L),t(L,g),t(a,y)},p(_,m){m&8&&d!==(d=_[14].toLocaleString()+"")&&A(C,d),m&8&&b!==(b=_[15]+"")&&A(S,b),m&8&&R!==(R=_[13]+"")&&A(g,R)},d(_){_&&r(a)}}}function Se(n){let a,c,d,C,O="Organisations",b,S,N=n[6].excerpt+"",L,R,g,y,_,m="Summary",k,e,D,B,Mt=n[7].length.toLocaleString()+"",Tt,xt,bt,P,F,z,Kt="Completeness",Rt,U,H,$,tt=n[1].toLocaleString()+"",ht,Ot,ut,Pt,wt,G,et,at=n[0].toLocaleString()+"",dt,It,gt,Nt,Dt,w,M,Yt="Type distribution",Ht,j,Gt,lt,st=n[3].length+"",ft,At,kt,K,Bt,q,Y,Jt="Location distribution",Ft,V,Ut,nt,ot=n[2].toLocaleString()+"",_t,jt,qt,J,I,W=ae(n[3].slice(0,3)),v=[];for(let o=0;o<W.length;o+=1)v[o]=se(le(n,W,o));return J=new me({props:{data:n[7],columns:n[9],label:Le,sortBy:n[10],url:n[8]}}),{c(){a=l("article"),c=l("header"),d=l("hgroup"),C=l("h1"),C.textContent=O,b=T(),S=l("p"),L=h(N),R=T(),g=l("section"),y=l("hgroup"),_=l("h2"),_.textContent=m,k=T(),e=l("p"),D=h("The database currently contains "),B=l("strong"),Tt=h(Mt),xt=h(`
				documented organisations, with the following characteristics:`),bt=T(),P=l("div"),F=l("article"),z=l("h3"),z.textContent=Kt,Rt=T(),U=l("ul"),H=l("li"),$=l("strong"),ht=h(tt),Ot=h(`
						(`),ut=h(n[5]),Pt=h("%) have descriptions"),wt=T(),G=l("li"),et=l("strong"),dt=h(at),It=h(`
						(`),gt=h(n[4]),Nt=h("%) have recorded alternative names"),Dt=T(),w=l("article"),M=l("h3"),M.textContent=Yt,Ht=T(),j=l("p"),Gt=h("The database includes organisations with "),lt=l("strong"),ft=h(st),At=h(` distinct
					types. The most common types are:`),kt=T(),K=l("ul");for(let o=0;o<v.length;o+=1)v[o].c();Bt=T(),q=l("article"),Y=l("h3"),Y.textContent=Jt,Ft=T(),V=l("p"),Ut=h("The database includes organisations from "),nt=l("strong"),_t=h(ot),jt=h(`
					distinct locations.`),qt=T(),he(J.$$.fragment),this.h()},l(o){a=s(o,"ARTICLE",{});var p=i(a);c=s(p,"HEADER",{});var f=i(c);d=s(f,"HGROUP",{});var Q=i(d);C=s(Q,"H1",{"data-svelte-h":!0}),ct(C)!=="svelte-u3mprz"&&(C.textContent=O),b=x(Q),S=s(Q,"P",{});var Qt=i(S);L=u(Qt,N),Qt.forEach(r),Q.forEach(r),f.forEach(r),R=x(p),g=s(p,"SECTION",{class:!0});var mt=i(g);y=s(mt,"HGROUP",{});var vt=i(y);_=s(vt,"H2",{"data-svelte-h":!0}),ct(_)!=="svelte-1yu8q5y"&&(_.textContent=m),k=x(vt),e=s(vt,"P",{class:!0});var pt=i(e);D=u(pt,"The database currently contains "),B=s(pt,"STRONG",{});var Wt=i(B);Tt=u(Wt,Mt),Wt.forEach(r),xt=u(pt,`
				documented organisations, with the following characteristics:`),pt.forEach(r),vt.forEach(r),bt=x(mt),P=s(mt,"DIV",{class:!0});var X=i(P);F=s(X,"ARTICLE",{class:!0});var Et=i(F);z=s(Et,"H3",{class:!0,"data-svelte-h":!0}),ct(z)!=="svelte-1v62mo4"&&(z.textContent=Kt),Rt=x(Et),U=s(Et,"UL",{class:!0});var Ct=i(U);H=s(Ct,"LI",{class:!0});var rt=i(H);$=s(rt,"STRONG",{});var Xt=i($);ht=u(Xt,tt),Xt.forEach(r),Ot=u(rt,`
						(`),ut=u(rt,n[5]),Pt=u(rt,"%) have descriptions"),rt.forEach(r),wt=x(Ct),G=s(Ct,"LI",{class:!0});var it=i(G);et=s(it,"STRONG",{});var Zt=i(et);dt=u(Zt,at),Zt.forEach(r),It=u(it,`
						(`),gt=u(it,n[4]),Nt=u(it,"%) have recorded alternative names"),it.forEach(r),Ct.forEach(r),Et.forEach(r),Dt=x(X),w=s(X,"ARTICLE",{class:!0});var Z=i(w);M=s(Z,"H3",{class:!0,"data-svelte-h":!0}),ct(M)!=="svelte-x6zfic"&&(M.textContent=Yt),Ht=x(Z),j=s(Z,"P",{class:!0});var St=i(j);Gt=u(St,"The database includes organisations with "),lt=s(St,"STRONG",{});var $t=i(lt);ft=u($t,st),$t.forEach(r),At=u(St,` distinct
					types. The most common types are:`),St.forEach(r),kt=x(Z),K=s(Z,"UL",{class:!0});var te=i(K);for(let Vt=0;Vt<v.length;Vt+=1)v[Vt].l(te);te.forEach(r),Z.forEach(r),Bt=x(X),q=s(X,"ARTICLE",{class:!0});var Lt=i(q);Y=s(Lt,"H3",{class:!0,"data-svelte-h":!0}),ct(Y)!=="svelte-jxyct3"&&(Y.textContent=Jt),Ft=x(Lt),V=s(Lt,"P",{class:!0});var yt=i(V);Ut=u(yt,"The database includes organisations from "),nt=s(yt,"STRONG",{});var ee=i(nt);_t=u(ee,ot),ee.forEach(r),jt=u(yt,`
					distinct locations.`),yt.forEach(r),Lt.forEach(r),X.forEach(r),mt.forEach(r),qt=x(p),ue(J.$$.fragment,p),p.forEach(r),this.h()},h(){E(e,"class","svelte-2lx9ti"),E(z,"class","svelte-2lx9ti"),E(H,"class","svelte-2lx9ti"),E(G,"class","svelte-2lx9ti"),E(U,"class","svelte-2lx9ti"),E(F,"class","card svelte-2lx9ti"),E(M,"class","svelte-2lx9ti"),E(j,"class","svelte-2lx9ti"),E(K,"class","svelte-2lx9ti"),E(w,"class","card svelte-2lx9ti"),E(Y,"class","svelte-2lx9ti"),E(V,"class","svelte-2lx9ti"),E(q,"class","card svelte-2lx9ti"),E(P,"class","summary-grid svelte-2lx9ti"),E(g,"class","svelte-2lx9ti")},m(o,p){ne(o,a,p),t(a,c),t(c,d),t(d,C),t(d,b),t(d,S),t(S,L),t(a,R),t(a,g),t(g,y),t(y,_),t(y,k),t(y,e),t(e,D),t(e,B),t(B,Tt),t(e,xt),t(g,bt),t(g,P),t(P,F),t(F,z),t(F,Rt),t(F,U),t(U,H),t(H,$),t($,ht),t(H,Ot),t(H,ut),t(H,Pt),t(U,wt),t(U,G),t(G,et),t(et,dt),t(G,It),t(G,gt),t(G,Nt),t(P,Dt),t(P,w),t(w,M),t(w,Ht),t(w,j),t(j,Gt),t(j,lt),t(lt,ft),t(j,At),t(w,kt),t(w,K);for(let f=0;f<v.length;f+=1)v[f]&&v[f].m(K,null);t(P,Bt),t(P,q),t(q,Y),t(q,Ft),t(q,V),t(V,Ut),t(V,nt),t(nt,_t),t(V,jt),t(a,qt),de(J,a,null),I=!0},p(o,[p]){if((!I||p&2)&&tt!==(tt=o[1].toLocaleString()+"")&&A(ht,tt),(!I||p&32)&&A(ut,o[5]),(!I||p&1)&&at!==(at=o[0].toLocaleString()+"")&&A(dt,at),(!I||p&16)&&A(gt,o[4]),(!I||p&8)&&st!==(st=o[3].length+"")&&A(ft,st),p&8){W=ae(o[3].slice(0,3));let f;for(f=0;f<W.length;f+=1){const Q=le(o,W,f);v[f]?v[f].p(Q,p):(v[f]=se(Q),v[f].c(),v[f].m(K,null))}for(;f<v.length;f+=1)v[f].d(1);v.length=W.length}(!I||p&4)&&ot!==(ot=o[2].toLocaleString()+"")&&A(_t,ot)},i(o){I||(ge(J.$$.fragment,o),I=!0)},o(o){fe(J.$$.fragment,o),I=!1},d(o){o&&r(a),re(v,o),_e(J)}}}const Le="organisations";function ye(n,a,c){let d,C,O,b,S,N,{data:L}=a;const{_metadata:R,collection:g,url:y,placesBySlug:_}=L,m=[{header:"Slug",accessor:"slug"},ve,pe,{header:"Type",accessor:"organisation_type"},Ee(_),{header:"Founding date",accessor:"founding_date",cell:({value:e})=>e?new Date(e).toLocaleDateString():zt,plugins:{sort:{getSortValue(e){return e||""}}}},{header:"Dissolution date",accessor:"dissolution_date",cell:({value:e})=>e?new Date(e).toLocaleDateString():zt,plugins:{sort:{getSortValue(e){return e||""}}}},Ce],k={initialSortKeys:[{id:"name",order:"asc"}]};return n.$$set=e=>{"data"in e&&c(11,L=e.data)},n.$$.update=()=>{n.$$.dirty&2&&c(5,C=(d/g.length*100).toFixed(1)),n.$$.dirty&1&&c(4,b=(O/g.length*100).toFixed(1))},c(1,d=g.filter(e=>e.description).length),c(0,O=g.filter(e=>e.alternative_names).length),c(3,S=Object.entries(g.reduce((e,D)=>{const B=D.organisation_type??zt;return e[B]=(e[B]||0)+1,e},{})).map(([e,D])=>({type:e,count:D})).sort((e,D)=>D.count-e.count).map(e=>({...e,percentage:(e.count/g.length*100).toFixed(1)}))),c(2,N=[...new Set(g.map(e=>e.location))].filter(Boolean).length),[O,d,N,S,b,C,R,g,y,m,k,L]}class Pe extends ie{constructor(a){super(),ce(this,a,ye,Se,oe,{data:11})}}export{Pe as component};
