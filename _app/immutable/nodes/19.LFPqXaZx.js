import{s as ge,A as fe,b as r,c as I,t as _,d as s,f as g,j as ot,i as N,g as v,h,k as T,l as Qt,m as t,q as A,B as _e,p as se}from"../chunks/scheduler.DNWStqsm.js";import{S as ve,i as pe,e as me,c as Ee,a as Ce,m as ye,t as we,b as Le,d as Se}from"../chunks/index.cxl-M09p.js";import{e as Nt}from"../chunks/each.LDVH8paA.js";import{E as rt}from"../chunks/config.DNfGVc1F.js";import{E as be,n as xe,a as Te,h as Re,s as Ie}from"../chunks/tableColumns.Bt5bVdJR.js";function ie(n,l,o){const i=n.slice();return i[15]=l[o].ethnicity,i[16]=l[o].count,i[17]=l[o].percentage,i}function ce(n,l,o){const i=n.slice();return i[20]=l[o].gender,i[16]=l[o].count,i[17]=l[o].percentage,i}function he(n){let l,o,i=n[16].toLocaleString()+"",m,O,w=n[17]+"",E,G,L,C=n[20]+"",p,f;return{c(){l=r("li"),o=r("strong"),m=_(i),O=_(" ("),E=_(w),G=_(`%)
							`),L=r("em"),p=_(C),f=I()},l(d){l=s(d,"LI",{});var c=g(l);o=s(c,"STRONG",{});var k=g(o);m=v(k,i),k.forEach(h),O=v(c," ("),E=v(c,w),G=v(c,`%)
							`),L=s(c,"EM",{});var S=g(L);p=v(S,C),S.forEach(h),f=N(c),c.forEach(h)},m(d,c){Qt(d,l,c),t(l,o),t(o,m),t(l,O),t(l,E),t(l,G),t(l,L),t(L,p),t(l,f)},p(d,c){c&32&&i!==(i=d[16].toLocaleString()+"")&&A(m,i),c&32&&w!==(w=d[17]+"")&&A(E,w),c&32&&C!==(C=d[20]+"")&&A(p,C)},d(d){d&&h(l)}}}function ue(n){let l,o,i=n[16].toLocaleString()+"",m,O,w=n[17]+"",E,G,L,C=n[15]+"",p,f;return{c(){l=r("li"),o=r("strong"),m=_(i),O=_(" ("),E=_(w),G=_(`%)
							`),L=r("em"),p=_(C),f=I()},l(d){l=s(d,"LI",{});var c=g(l);o=s(c,"STRONG",{});var k=g(o);m=v(k,i),k.forEach(h),O=v(c," ("),E=v(c,w),G=v(c,`%)
							`),L=s(c,"EM",{});var S=g(L);p=v(S,C),S.forEach(h),f=N(c),c.forEach(h)},m(d,c){Qt(d,l,c),t(l,o),t(o,m),t(l,O),t(l,E),t(l,G),t(l,L),t(L,p),t(l,f)},p(d,c){c&8&&i!==(i=d[16].toLocaleString()+"")&&A(m,i),c&8&&w!==(w=d[17]+"")&&A(E,w),c&8&&C!==(C=d[15]+"")&&A(p,C)},d(d){d&&h(l)}}}function Ne(n){let l,o,i,m,O="People",w,E,G=n[8].excerpt+"",L,C,p,f,d,c="Summary",k,S,st,e,P=n[9].length.toLocaleString()+"",D,Ot,Pt,H,q,W,Wt="Completeness",Gt,B,F,it,ct=n[1].toLocaleString()+"",vt,Ht,pt,kt,At,j,ht,ut=n[0].toLocaleString()+"",mt,Dt,Et,Ut,Vt,M,X,Xt="Gender distribution",qt,Z,Bt,K,$,Zt="Ethnicity distribution",Ft,tt,jt,Y,et,$t="Nationality distribution",Mt,z,Kt,dt,gt=n[4].toLocaleString()+"",Ct,Yt,zt,U,Jt,V,at=Nt(n[5]),b=[];for(let a=0;a<at.length;a+=1)b[a]=he(ce(n,at,a));let nt=Nt(n[3]),x=[];for(let a=0;a<nt.length;a+=1)x[a]=ue(ie(n,nt,a));function de(a){n[14](a)}let te={data:n[9],columns:n[11],label:Oe,sortBy:n[12],url:n[10]};return n[2]!==void 0&&(te.view=n[2]),U=new be({props:te}),fe.push(()=>me(U,"view",de)),{c(){l=r("article"),o=r("header"),i=r("hgroup"),m=r("h1"),m.textContent=O,w=I(),E=r("p"),L=_(G),C=I(),p=r("section"),f=r("hgroup"),d=r("h2"),d.textContent=c,k=I(),S=r("p"),st=_("The database currently contains "),e=r("strong"),D=_(P),Ot=_(` documented
				people, with the following characteristics:`),Pt=I(),H=r("div"),q=r("article"),W=r("h3"),W.textContent=Wt,Gt=I(),B=r("ul"),F=r("li"),it=r("strong"),vt=_(ct),Ht=_(`
						(`),pt=_(n[7]),kt=_("%) have biographical information"),At=I(),j=r("li"),ht=r("strong"),mt=_(ut),Dt=_(`
						(`),Et=_(n[6]),Ut=_("%) have recorded alternative names"),Vt=I(),M=r("article"),X=r("h3"),X.textContent=Xt,qt=I(),Z=r("ul");for(let a=0;a<b.length;a+=1)b[a].c();Bt=I(),K=r("article"),$=r("h3"),$.textContent=Zt,Ft=I(),tt=r("ul");for(let a=0;a<x.length;a+=1)x[a].c();jt=I(),Y=r("article"),et=r("h3"),et.textContent=$t,Mt=I(),z=r("p"),Kt=_("The database includes people from "),dt=r("strong"),Ct=_(gt),Yt=_(`
					distinct nationalities.`),zt=I(),Ee(U.$$.fragment),this.h()},l(a){l=s(a,"ARTICLE",{});var y=g(l);o=s(y,"HEADER",{});var R=g(o);i=s(R,"HGROUP",{});var u=g(i);m=s(u,"H1",{"data-svelte-h":!0}),ot(m)!=="svelte-120h8qb"&&(m.textContent=O),w=N(u),E=s(u,"P",{class:!0});var J=g(E);L=v(J,G),J.forEach(h),u.forEach(h),R.forEach(h),C=N(y),p=s(y,"SECTION",{class:!0});var yt=g(p);f=s(yt,"HGROUP",{});var wt=g(f);d=s(wt,"H2",{"data-svelte-h":!0}),ot(d)!=="svelte-1yu8q5y"&&(d.textContent=c),k=N(wt),S=s(wt,"P",{class:!0});var Lt=g(S);st=v(Lt,"The database currently contains "),e=s(Lt,"STRONG",{});var ee=g(e);D=v(ee,P),ee.forEach(h),Ot=v(Lt,` documented
				people, with the following characteristics:`),Lt.forEach(h),wt.forEach(h),Pt=N(yt),H=s(yt,"DIV",{class:!0});var Q=g(H);q=s(Q,"ARTICLE",{class:!0});var St=g(q);W=s(St,"H3",{class:!0,"data-svelte-h":!0}),ot(W)!=="svelte-1v62mo4"&&(W.textContent=Wt),Gt=N(St),B=s(St,"UL",{class:!0});var bt=g(B);F=s(bt,"LI",{});var ft=g(F);it=s(ft,"STRONG",{});var le=g(it);vt=v(le,ct),le.forEach(h),Ht=v(ft,`
						(`),pt=v(ft,n[7]),kt=v(ft,"%) have biographical information"),ft.forEach(h),At=N(bt),j=s(bt,"LI",{});var _t=g(j);ht=s(_t,"STRONG",{});var ae=g(ht);mt=v(ae,ut),ae.forEach(h),Dt=v(_t,`
						(`),Et=v(_t,n[6]),Ut=v(_t,"%) have recorded alternative names"),_t.forEach(h),bt.forEach(h),St.forEach(h),Vt=N(Q),M=s(Q,"ARTICLE",{class:!0});var xt=g(M);X=s(xt,"H3",{class:!0,"data-svelte-h":!0}),ot(X)!=="svelte-1txaxcp"&&(X.textContent=Xt),qt=N(xt),Z=s(xt,"UL",{class:!0});var ne=g(Z);for(let lt=0;lt<b.length;lt+=1)b[lt].l(ne);ne.forEach(h),xt.forEach(h),Bt=N(Q),K=s(Q,"ARTICLE",{class:!0});var Tt=g(K);$=s(Tt,"H3",{class:!0,"data-svelte-h":!0}),ot($)!=="svelte-1ao27w5"&&($.textContent=Zt),Ft=N(Tt),tt=s(Tt,"UL",{class:!0});var oe=g(tt);for(let lt=0;lt<x.length;lt+=1)x[lt].l(oe);oe.forEach(h),Tt.forEach(h),jt=N(Q),Y=s(Q,"ARTICLE",{class:!0});var Rt=g(Y);et=s(Rt,"H3",{class:!0,"data-svelte-h":!0}),ot(et)!=="svelte-c237ws"&&(et.textContent=$t),Mt=N(Rt),z=s(Rt,"P",{class:!0});var It=g(z);Kt=v(It,"The database includes people from "),dt=s(It,"STRONG",{});var re=g(dt);Ct=v(re,gt),re.forEach(h),Yt=v(It,`
					distinct nationalities.`),It.forEach(h),Rt.forEach(h),Q.forEach(h),yt.forEach(h),zt=N(y),Ce(U.$$.fragment,y),y.forEach(h),this.h()},h(){T(E,"class","svelte-dyoxwa"),T(S,"class","svelte-dyoxwa"),T(W,"class","svelte-dyoxwa"),T(B,"class","svelte-dyoxwa"),T(q,"class","card svelte-dyoxwa"),T(X,"class","svelte-dyoxwa"),T(Z,"class","svelte-dyoxwa"),T(M,"class","card svelte-dyoxwa"),T($,"class","svelte-dyoxwa"),T(tt,"class","svelte-dyoxwa"),T(K,"class","card svelte-dyoxwa"),T(et,"class","svelte-dyoxwa"),T(z,"class","svelte-dyoxwa"),T(Y,"class","card svelte-dyoxwa"),T(H,"class","summary-grid svelte-dyoxwa"),T(p,"class","svelte-dyoxwa")},m(a,y){Qt(a,l,y),t(l,o),t(o,i),t(i,m),t(i,w),t(i,E),t(E,L),t(l,C),t(l,p),t(p,f),t(f,d),t(f,k),t(f,S),t(S,st),t(S,e),t(e,D),t(S,Ot),t(p,Pt),t(p,H),t(H,q),t(q,W),t(q,Gt),t(q,B),t(B,F),t(F,it),t(it,vt),t(F,Ht),t(F,pt),t(F,kt),t(B,At),t(B,j),t(j,ht),t(ht,mt),t(j,Dt),t(j,Et),t(j,Ut),t(H,Vt),t(H,M),t(M,X),t(M,qt),t(M,Z);for(let R=0;R<b.length;R+=1)b[R]&&b[R].m(Z,null);t(H,Bt),t(H,K),t(K,$),t(K,Ft),t(K,tt);for(let R=0;R<x.length;R+=1)x[R]&&x[R].m(tt,null);t(H,jt),t(H,Y),t(Y,et),t(Y,Mt),t(Y,z),t(z,Kt),t(z,dt),t(dt,Ct),t(z,Yt),t(l,zt),ye(U,l,null),V=!0},p(a,[y]){if((!V||y&2)&&ct!==(ct=a[1].toLocaleString()+"")&&A(vt,ct),(!V||y&128)&&A(pt,a[7]),(!V||y&1)&&ut!==(ut=a[0].toLocaleString()+"")&&A(mt,ut),(!V||y&64)&&A(Et,a[6]),y&32){at=Nt(a[5]);let u;for(u=0;u<at.length;u+=1){const J=ce(a,at,u);b[u]?b[u].p(J,y):(b[u]=he(J),b[u].c(),b[u].m(Z,null))}for(;u<b.length;u+=1)b[u].d(1);b.length=at.length}if(y&8){nt=Nt(a[3]);let u;for(u=0;u<nt.length;u+=1){const J=ie(a,nt,u);x[u]?x[u].p(J,y):(x[u]=ue(J),x[u].c(),x[u].m(tt,null))}for(;u<x.length;u+=1)x[u].d(1);x.length=nt.length}(!V||y&16)&&gt!==(gt=a[4].toLocaleString()+"")&&A(Ct,gt);const R={};!Jt&&y&4&&(Jt=!0,R.view=a[2],_e(()=>Jt=!1)),U.$set(R)},i(a){V||(we(U.$$.fragment,a),V=!0)},o(a){Le(U.$$.fragment,a),V=!1},d(a){a&&h(l),se(b,a),se(x,a),Se(U)}}}const Oe="people";function Pe(n,l,o){let i,m,O,w,E,G,L,{data:C}=l;const{_metadata:p,people:f,url:d}=C,c=[{header:"Slug",accessor:"slug"},xe,Te,{header:"Gender",accessor:"gender",cell:({value:e})=>e??rt,plugins:{sort:{getSortValue(e){return(e||"").toLowerCase()}}}},{header:"Nationality",accessor:"nationality",cell:({value:e})=>e??rt,plugins:{sort:{getSortValue(e){return(e||"").toLowerCase()}}}},{header:"Ethnicity",accessor:"ethnicity",cell:({value:e})=>e??rt,plugins:{sort:{getSortValue(e){return(e||"").toLowerCase()}}}},{header:"Language",accessor:"language",cell:({value:e})=>e??rt,plugins:{sort:{getSortValue(e){return(e||"").toLowerCase()}}}},Re,Ie],k={initialSortKeys:[{id:"name",order:"asc"}]};let S="cards";function st(e){S=e,o(2,S)}return n.$$set=e=>{"data"in e&&o(13,C=e.data)},n.$$.update=()=>{n.$$.dirty&2&&o(7,m=(i/f.length*100).toFixed(1)),n.$$.dirty&1&&o(6,w=(O/f.length*100).toFixed(1))},o(1,i=f.filter(e=>e.description).length),o(0,O=f.filter(e=>e.alternative_names).length),o(5,E=Object.entries(f.reduce((e,P)=>{const D=P.gender??rt;return e[D]=(e[D]||0)+1,e},{})).map(([e,P])=>({gender:e,count:P})).sort((e,P)=>e.gender.localeCompare(P.gender)).map(e=>({...e,percentage:(e.count/f.length*100).toFixed(1)}))),o(4,G=[...new Set(f.map(e=>e.nationality))].filter(Boolean).length),o(3,L=Object.entries(f.reduce((e,P)=>{const D=P.ethnicity??rt;return e[D]=(e[D]||0)+1,e},{})).map(([e,P])=>({ethnicity:e,count:P})).sort((e,P)=>e.ethnicity.localeCompare(P.ethnicity)).map(e=>({...e,percentage:(e.count/f.length*100).toFixed(1)}))),[O,i,S,L,G,E,w,m,p,f,d,c,k,C,st]}class Ue extends ve{constructor(l){super(),pe(this,l,Pe,Ne,ge,{data:13})}}export{Ue as component};
