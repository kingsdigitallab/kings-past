import{s as me,r as _e}from"../chunks/scheduler.BmBaUOvj.js";import{S as ve,i as pe,s as y,e as h,t as d,l as zt,m as Ee,f as g,a as T,c as u,h as p,g as lt,j as m,n as Jt,b as at,x as St,d as Tt,k as t,o as Qt,y as ce,w as D,p as Wt,q as Xt,v as he,r as Zt}from"../chunks/index.C_nRBhsY.js";import{e as yt}from"../chunks/each.DhGhqZbU.js";import{t as be,E as ot}from"../chunks/config.gUoqXaG8.js";import{E as Ce,n as Le,a as Se,h as ye,s as Te}from"../chunks/tableColumns.CD1ZEDw3.js";import{T as we}from"../chunks/table.gcWLrEhV.js";import{L as ke}from"../chunks/layout-grid.1lXhXh1B.js";function ue(r,o,a){const c=r.slice();return c[15]=o[a].ethnicity,c[16]=o[a].count,c[17]=o[a].percentage,c}function ge(r,o,a){const c=r.slice();return c[20]=o[a].gender,c[16]=o[a].count,c[17]=o[a].percentage,c}function fe(r){let o,a,c=r[16].toLocaleString()+"",k,N,s=r[17]+"",E,I,C,_=r[20]+"",v,O;return{c(){o=h("li"),a=h("strong"),k=d(c),N=d(" ("),E=d(s),I=d(`%)
					`),C=h("em"),v=d(_),O=y()},l(f){o=u(f,"LI",{});var i=p(o);a=u(i,"STRONG",{});var R=p(a);k=m(R,c),R.forEach(g),N=m(i," ("),E=m(i,s),I=m(i,`%)
					`),C=u(i,"EM",{});var G=p(C);v=m(G,_),G.forEach(g),O=T(i),i.forEach(g)},m(f,i){Tt(f,o,i),t(o,a),t(a,k),t(o,N),t(o,E),t(o,I),t(o,C),t(C,v),t(o,O)},p(f,i){i&32&&c!==(c=f[16].toLocaleString()+"")&&D(k,c),i&32&&s!==(s=f[17]+"")&&D(E,s),i&32&&_!==(_=f[20]+"")&&D(v,_)},d(f){f&&g(o)}}}function de(r){let o,a,c=r[16].toLocaleString()+"",k,N,s=r[17]+"",E,I,C,_=r[15]+"",v,O;return{c(){o=h("li"),a=h("strong"),k=d(c),N=d(" ("),E=d(s),I=d(`%)
					`),C=h("em"),v=d(_),O=y()},l(f){o=u(f,"LI",{});var i=p(o);a=u(i,"STRONG",{});var R=p(a);k=m(R,c),R.forEach(g),N=m(i," ("),E=m(i,s),I=m(i,`%)
					`),C=u(i,"EM",{});var G=p(C);v=m(G,_),G.forEach(g),O=T(i),i.forEach(g)},m(f,i){Tt(f,o,i),t(o,a),t(a,k),t(o,N),t(o,E),t(o,I),t(o,C),t(C,v),t(o,O)},p(f,i){i&8&&c!==(c=f[16].toLocaleString()+"")&&D(k,c),i&8&&s!==(s=f[17]+"")&&D(E,s),i&8&&_!==(_=f[15]+"")&&D(v,_)},d(f){f&&g(o)}}}function Ne(r){let o,a,c,k=`<hgroup><h1>People</h1> <p>This page displays a table of people, with columns for their slug, name, alternative names,
				gender, nationality, ethnicity, language, description status, and current status. The table
				is sortable by clicking on column headers.</p></hgroup>`,N,s,E,I="Summary",C,_,v,O,f=r[8].length.toLocaleString()+"",i,R,G,V,e="Completeness",H,P,q,rt,st=r[1].toLocaleString()+"",dt,wt,mt,kt,Nt,F,it,ct=r[0].toLocaleString()+"",_t,Ot,vt,Ht,It,W,xt="Gender distribution",Pt,X,Rt,Z,te="Ethnicity distribution",Gt,x,$t,tt,ee="Nationality distribution",Dt,j,Bt,ht,ut=r[4].toLocaleString()+"",pt,Mt,Ut,Y,A,B,z,Vt,qt,M,J,Ft,jt,K,$,At,ne;document.title="People | "+be;let et=yt(r[5]),L=[];for(let n=0;n<et.length;n+=1)L[n]=fe(ge(r,et,n));let nt=yt(r[3]),S=[];for(let n=0;n<nt.length;n+=1)S[n]=de(ue(r,nt,n));return z=new we({}),J=new ke({}),K=new Ce({props:{data:r[8],columns:r[10],label:Oe,sortBy:r[11],url:r[9],view:r[2]}}),{c(){o=y(),a=h("article"),c=h("header"),c.innerHTML=k,N=y(),s=h("section"),E=h("h2"),E.textContent=I,C=y(),_=h("p"),v=d("The database currently contains "),O=h("strong"),i=d(f),R=d(` documented people,
			with the following characteristics:`),G=y(),V=h("h3"),V.textContent=e,H=y(),P=h("ul"),q=h("li"),rt=h("strong"),dt=d(st),wt=d(`
				(`),mt=d(r[7]),kt=d("%) have biographical information"),Nt=y(),F=h("li"),it=h("strong"),_t=d(ct),Ot=d(`
				(`),vt=d(r[6]),Ht=d("%) have recorded alternative names"),It=y(),W=h("h3"),W.textContent=xt,Pt=y(),X=h("ul");for(let n=0;n<L.length;n+=1)L[n].c();Rt=y(),Z=h("h3"),Z.textContent=te,Gt=y(),x=h("ul");for(let n=0;n<S.length;n+=1)S[n].c();$t=y(),tt=h("h3"),tt.textContent=ee,Dt=y(),j=h("p"),Bt=d("The database includes people from "),ht=h("strong"),pt=d(ut),Mt=d(`
			distinct nationalities.`),Ut=y(),Y=h("section"),A=h("div"),B=h("button"),zt(z.$$.fragment),Vt=d("Table view"),qt=y(),M=h("button"),zt(J.$$.fragment),Ft=d("Card view"),jt=y(),zt(K.$$.fragment),this.h()},l(n){Ee("svelte-yypte9",document.head).forEach(g),o=T(n),a=u(n,"ARTICLE",{});var b=p(a);c=u(b,"HEADER",{"data-svelte-h":!0}),lt(c)!=="svelte-1mqahcf"&&(c.innerHTML=k),N=T(b),s=u(b,"SECTION",{class:!0});var l=p(s);E=u(l,"H2",{"data-svelte-h":!0}),lt(E)!=="svelte-1yu8q5y"&&(E.textContent=I),C=T(l),_=u(l,"P",{class:!0});var U=p(_);v=m(U,"The database currently contains "),O=u(U,"STRONG",{});var le=p(O);i=m(le,f),le.forEach(g),R=m(U,` documented people,
			with the following characteristics:`),U.forEach(g),G=T(l),V=u(l,"H3",{"data-svelte-h":!0}),lt(V)!=="svelte-1v62mo4"&&(V.textContent=e),H=T(l),P=u(l,"UL",{});var Et=p(P);q=u(Et,"LI",{});var gt=p(q);rt=u(gt,"STRONG",{});var ae=p(rt);dt=m(ae,st),ae.forEach(g),wt=m(gt,`
				(`),mt=m(gt,r[7]),kt=m(gt,"%) have biographical information"),gt.forEach(g),Nt=T(Et),F=u(Et,"LI",{});var ft=p(F);it=u(ft,"STRONG",{});var oe=p(it);_t=m(oe,ct),oe.forEach(g),Ot=m(ft,`
				(`),vt=m(ft,r[6]),Ht=m(ft,"%) have recorded alternative names"),ft.forEach(g),Et.forEach(g),It=T(l),W=u(l,"H3",{"data-svelte-h":!0}),lt(W)!=="svelte-1txaxcp"&&(W.textContent=xt),Pt=T(l),X=u(l,"UL",{});var re=p(X);for(let Q=0;Q<L.length;Q+=1)L[Q].l(re);re.forEach(g),Rt=T(l),Z=u(l,"H3",{"data-svelte-h":!0}),lt(Z)!=="svelte-1ao27w5"&&(Z.textContent=te),Gt=T(l),x=u(l,"UL",{});var se=p(x);for(let Q=0;Q<S.length;Q+=1)S[Q].l(se);se.forEach(g),$t=T(l),tt=u(l,"H3",{"data-svelte-h":!0}),lt(tt)!=="svelte-c237ws"&&(tt.textContent=ee),Dt=T(l),j=u(l,"P",{class:!0});var bt=p(j);Bt=m(bt,"The database includes people from "),ht=u(bt,"STRONG",{});var ie=p(ht);pt=m(ie,ut),ie.forEach(g),Mt=m(bt,`
			distinct nationalities.`),bt.forEach(g),l.forEach(g),Ut=T(b),Y=u(b,"SECTION",{});var Ct=p(Y);A=u(Ct,"DIV",{class:!0});var Lt=p(A);B=u(Lt,"BUTTON",{class:!0});var Kt=p(B);Jt(z.$$.fragment,Kt),Vt=m(Kt,"Table view"),Kt.forEach(g),qt=T(Lt),M=u(Lt,"BUTTON",{class:!0});var Yt=p(M);Jt(J.$$.fragment,Yt),Ft=m(Yt,"Card view"),Yt.forEach(g),Lt.forEach(g),jt=T(Ct),Jt(K.$$.fragment,Ct),Ct.forEach(g),b.forEach(g),this.h()},h(){at(_,"class","svelte-1ck7v40"),at(j,"class","svelte-1ck7v40"),at(s,"class","svelte-1ck7v40"),at(B,"class","svelte-1ck7v40"),St(B,"active",r[2]==="table"),at(M,"class","svelte-1ck7v40"),St(M,"active",r[2]==="cards"),at(A,"class","view-toggle svelte-1ck7v40")},m(n,w){Tt(n,o,w),Tt(n,a,w),t(a,c),t(a,N),t(a,s),t(s,E),t(s,C),t(s,_),t(_,v),t(_,O),t(O,i),t(_,R),t(s,G),t(s,V),t(s,H),t(s,P),t(P,q),t(q,rt),t(rt,dt),t(q,wt),t(q,mt),t(q,kt),t(P,Nt),t(P,F),t(F,it),t(it,_t),t(F,Ot),t(F,vt),t(F,Ht),t(s,It),t(s,W),t(s,Pt),t(s,X);for(let b=0;b<L.length;b+=1)L[b]&&L[b].m(X,null);t(s,Rt),t(s,Z),t(s,Gt),t(s,x);for(let b=0;b<S.length;b+=1)S[b]&&S[b].m(x,null);t(s,$t),t(s,tt),t(s,Dt),t(s,j),t(j,Bt),t(j,ht),t(ht,pt),t(j,Mt),t(a,Ut),t(a,Y),t(Y,A),t(A,B),Qt(z,B,null),t(B,Vt),t(A,qt),t(A,M),Qt(J,M,null),t(M,Ft),t(Y,jt),Qt(K,Y,null),$=!0,At||(ne=[ce(B,"click",r[13]),ce(M,"click",r[14])],At=!0)},p(n,[w]){if((!$||w&2)&&st!==(st=n[1].toLocaleString()+"")&&D(dt,st),(!$||w&128)&&D(mt,n[7]),(!$||w&1)&&ct!==(ct=n[0].toLocaleString()+"")&&D(_t,ct),(!$||w&64)&&D(vt,n[6]),w&32){et=yt(n[5]);let l;for(l=0;l<et.length;l+=1){const U=ge(n,et,l);L[l]?L[l].p(U,w):(L[l]=fe(U),L[l].c(),L[l].m(X,null))}for(;l<L.length;l+=1)L[l].d(1);L.length=et.length}if(w&8){nt=yt(n[3]);let l;for(l=0;l<nt.length;l+=1){const U=ue(n,nt,l);S[l]?S[l].p(U,w):(S[l]=de(U),S[l].c(),S[l].m(x,null))}for(;l<S.length;l+=1)S[l].d(1);S.length=nt.length}(!$||w&16)&&ut!==(ut=n[4].toLocaleString()+"")&&D(pt,ut),(!$||w&4)&&St(B,"active",n[2]==="table"),(!$||w&4)&&St(M,"active",n[2]==="cards");const b={};w&4&&(b.view=n[2]),K.$set(b)},i(n){$||(Wt(z.$$.fragment,n),Wt(J.$$.fragment,n),Wt(K.$$.fragment,n),$=!0)},o(n){Xt(z.$$.fragment,n),Xt(J.$$.fragment,n),Xt(K.$$.fragment,n),$=!1},d(n){n&&(g(o),g(a)),he(L,n),he(S,n),Zt(z),Zt(J),Zt(K),At=!1,_e(ne)}}}const Oe="people";function He(r,o,a){let c,k,N,s,E,I,C,{data:_}=o;const{people:v,url:O}=_;let f="table";const i=[{header:"Slug",accessor:"slug"},Le,Se,{header:"Gender",accessor:"gender",cell:({value:e})=>e??ot,plugins:{sort:{getSortValue(e){return(e||"").toLowerCase()}}}},{header:"Nationality",accessor:"nationality",cell:({value:e})=>e??ot,plugins:{sort:{getSortValue(e){return(e||"").toLowerCase()}}}},{header:"Ethnicity",accessor:"ethnicity",cell:({value:e})=>e??ot,plugins:{sort:{getSortValue(e){return(e||"").toLowerCase()}}}},{header:"Language",accessor:"language",cell:({value:e})=>e??ot,plugins:{sort:{getSortValue(e){return(e||"").toLowerCase()}}}},ye,Te],R={initialSortKeys:[{id:"name",order:"asc"}]},G=()=>a(2,f="table"),V=()=>a(2,f="cards");return r.$$set=e=>{"data"in e&&a(12,_=e.data)},r.$$.update=()=>{r.$$.dirty&2&&a(7,k=(c/v.length*100).toFixed(1)),r.$$.dirty&1&&a(6,s=(N/v.length*100).toFixed(1))},a(1,c=v.filter(e=>e.description).length),a(0,N=v.filter(e=>e.alternative_names).length),a(5,E=Object.entries(v.reduce((e,H)=>{const P=H.gender??ot;return e[P]=(e[P]||0)+1,e},{})).map(([e,H])=>({gender:e,count:H})).sort((e,H)=>e.gender.localeCompare(H.gender)).map(e=>({...e,percentage:(e.count/v.length*100).toFixed(1)}))),a(4,I=[...new Set(v.map(e=>e.nationality))].filter(Boolean).length),a(3,C=Object.entries(v.reduce((e,H)=>{const P=H.ethnicity??ot;return e[P]=(e[P]||0)+1,e},{})).map(([e,H])=>({ethnicity:e,count:H})).sort((e,H)=>e.ethnicity.localeCompare(H.ethnicity)).map(e=>({...e,percentage:(e.count/v.length*100).toFixed(1)}))),[N,c,f,C,I,E,s,k,v,O,i,R,_,G,V]}class Me extends ve{constructor(o){super(),pe(this,o,He,Ne,me,{data:12})}}export{Me as component};
