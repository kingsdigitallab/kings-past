import{s as A,b as U,t as q,c as $,d as j,f as I,g as C,h as x,i as R,j as D,k as w,l as T,m as v,n as z,a as B,ad as st,a8 as at,D as Ot,x as Nt,e as ot,af as it,p as zt,q as ct}from"../chunks/scheduler.C3aHL5nM.js";import{S as M,i as F,t as L,g as kt,f as Wt,b as k,c as H,a as V,m as G,d as K}from"../chunks/index.B0DoMMHu.js";import{h as lt}from"../chunks/config.DNfGVc1F.js";import{b as Z}from"../chunks/entry.BrYzKTxh.js";import{e as ut}from"../chunks/each.BPs89dqP.js";import{g as Tt}from"../chunks/spread.CgU5AtxT.js";import{s as qt}from"../chunks/moments.BPWLQCqS.js";const Ct=""+new URL("../assets/hero.esNPGaky.webp",import.meta.url).href;function At(r){let t,e,s,n,a=lt.title+"",o,i,c,f=lt.message+"",l,m,u,_='<button class="svelte-19i7ztv">Learn more</button>',d,g,b=`<img src="${Ct}" alt="A drawing ot the King&#39;s College Strand building" class="svelte-19i7ztv"/>`;return{c(){t=U("section"),e=U("div"),s=U("h1"),n=U("div"),o=q(a),i=$(),c=U("p"),l=q(f),m=$(),u=U("a"),u.innerHTML=_,d=$(),g=U("picture"),g.innerHTML=b,this.h()},l(y){t=j(y,"SECTION",{class:!0});var P=I(t);e=j(P,"DIV",{class:!0});var S=I(e);s=j(S,"H1",{class:!0});var et=I(s);n=j(et,"DIV",{});var rt=I(n);o=C(rt,a),rt.forEach(x),et.forEach(x),i=R(S),c=j(S,"P",{class:!0});var nt=I(c);l=C(nt,f),nt.forEach(x),m=R(S),u=j(S,"A",{href:!0,class:!0,"data-svelte-h":!0}),D(u)!=="svelte-4ahjg0"&&(u.innerHTML=_),S.forEach(x),d=R(P),g=j(P,"PICTURE",{class:!0,"data-svelte-h":!0}),D(g)!=="svelte-lgv8l"&&(g.innerHTML=b),P.forEach(x),this.h()},h(){w(s,"class","hero-title svelte-19i7ztv"),w(c,"class","hero-message svelte-19i7ztv"),w(u,"href",Z+"/about"),w(u,"class","svelte-19i7ztv"),w(e,"class","hero-welcome svelte-19i7ztv"),w(g,"class","hero-img svelte-19i7ztv"),w(t,"class","hero svelte-19i7ztv")},m(y,P){T(y,t,P),v(t,e),v(e,s),v(s,n),v(n,o),v(e,i),v(e,c),v(c,l),v(e,m),v(e,u),v(t,d),v(t,g)},p:z,i:z,o:z,d(y){y&&x(t)}}}class Mt extends M{constructor(t){super(),F(this,t,null,At,A,{})}}const Ft={"images.ctfassets.net":"contentful","cdn.builder.io":"builder.io","images.prismic.io":"imgix","www.datocms-assets.com":"imgix","cdn.sanity.io":"imgix","images.unsplash.com":"imgix","cdn.shopify.com":"shopify","s7d1.scene7.com":"scene7","ip.keycdn.com":"keycdn","assets.caisy.io":"bunny","images.contentstack.io":"contentstack","ucarecdn.com":"uploadcare"},Dt={"imgix.net":"imgix","files.wordpress.com":"wordpress","b-cdn.net":"bunny","storyblok.com":"storyblok","kc-usercontent.com":"kontent.ai","cloudinary.com":"cloudinary","kxcdn.com":"keycdn","imgeng.in":"imageengine","imagekit.io":"imagekit","cloudimg.io":"cloudimage","ucarecdn.com":"uploadcare","supabase.co":"supabase"},Bt={"/cdn-cgi/image/":"cloudflare","/cdn-cgi/imagedelivery/":"cloudflare_images","/_next/image":"nextjs","/_next/static":"nextjs","/_vercel/image":"vercel","/is/image":"scene7","/_ipx/":"ipx","/_image":"astro","/.netlify/images":"netlify","/storage/v1/object/public/":"supabase","/storage/v1/render/image/public/":"supabase"},O=r=>{if(!r)return r;const t=Number(r);return isNaN(t)?r:Math.round(t)},h=(r,t,e,s,n)=>{e?(n&&(e=O(e)),r.searchParams.set(t,e.toString())):s&&r.searchParams.delete(t)},E=(r,t,e)=>{r.searchParams.has(t)||r.searchParams.set(t,e.toString())},W=(r,t)=>{const e=Number(r.searchParams.get(t));return isNaN(e)?void 0:e},yt=r=>{const{pathname:t,search:e}=r;return`${t}${e}`},J=r=>r.hostname==="n"?yt(r):r.toString(),p=(r,t)=>typeof r=="string"?new URL(r,t??"http://n/"):r,ft=new Map(Object.entries(Ft)),Ht=Object.entries(Dt);function Vt(r){return vt(r)||Gt(r)}function vt(r){if(typeof r=="string"&&!r.startsWith("https://"))return!1;const{hostname:t}=p(r);if(ft.has(t))return ft.get(t);for(const[e,s]of Ht)if(t.endsWith(`.${e}`))return s;return!1}function Gt(r){const{pathname:t}=p(r);for(const[e,s]of Object.entries(Bt))if(t.startsWith(e))return s;return!1}const Kt=({url:r,width:t,height:e,format:s})=>{const n=p(r);return t&&t>4e3&&(e&&(e=Math.round(e*4e3/t)),t=4e3),e&&e>4e3&&(t&&(t=Math.round(t*4e3/e)),e=4e3),h(n,"w",t,!0,!0),h(n,"h",e,!0,!0),h(n,"fm",s),E(n,"fit","fill"),n},Zt=({url:r,width:t,height:e,format:s})=>{const n=p(r);return h(n,"width",t,!0,!0),h(n,"height",e,!0,!0),h(n,"format",s),t&&e&&(E(n,"fit","cover"),E(n,"sharp","true")),n},Xt=({url:r,width:t,height:e,format:s})=>{var a;const n=p(r);if(h(n,"w",t,!0,!0),h(n,"h",e,!0,!0),E(n,"fit","min"),s){n.searchParams.set("fm",s);const o=n.searchParams.get("auto");o==="format"?n.searchParams.delete("auto"):o!=null&&o.includes("format")&&n.searchParams.set("auto",o.split(",").filter(i=>i!=="format").join(","))}else n.searchParams.delete("fm"),(a=n.searchParams.get("auto"))!=null&&a.includes("format")||n.searchParams.append("auto","format");return n},Jt=/(.+?)(?:_(?:(pico|icon|thumb|small|compact|medium|large|grande|original|master)|(\d*)x(\d*)))?(?:_crop_([a-z]+))?(\.[a-zA-Z]+)(\.png|\.jpg|\.webp|\.avif)?$/,Qt=r=>{const t=p(r),e=t.pathname.match(Jt);if(!e)throw new Error("Invalid Shopify URL");const[,s,n,a,o,i,c,f]=e;t.pathname=`${s}${c}`;const l=a||t.searchParams.get("width"),m=o||t.searchParams.get("height");return t.searchParams.delete("width"),t.searchParams.delete("height"),{base:t.toString(),width:Number(l)||void 0,height:Number(m)||void 0,format:f?f.slice(1):void 0,params:{crop:i,size:n},cdn:"shopify"}},Yt=({base:r,width:t,height:e,format:s,params:n})=>{const a=p(r);return h(a,"width",t,!0,!0),h(a,"height",e,!0,!0),h(a,"crop",n==null?void 0:n.crop),h(a,"format",s),a},te=({url:r,width:t,height:e})=>{const s=Qt(r);if(!s)return;const n={...s,width:t,height:e};return Yt(n)},ee=({url:r,width:t,height:e})=>{const s=p(r);return h(s,"w",t,!0,!0),h(s,"h",e,!0,!0),E(s,"crop","1"),s},re=({url:r,width:t,height:e})=>{const s=p(r);return h(s,"w",t,!0,!0),h(s,"h",e,!0,!0),h(s,"q",W(s,"q"),!0),s},ne=/https?:\/\/(?<host>[^\/]+)\/(?<cloudName>[^\/]+)\/(?<assetType>image|video|raw)\/(?<deliveryType>upload|fetch|private|authenticated|sprite|facebook|twitter|youtube|vimeo)\/?(?<signature>s\-\-[a-zA-Z0-9]+\-\-)?\/?(?<transformations>(?:[^_\/]+_[^,\/]+,?)*)?\/(?:(?<version>v\d+)\/)?(?<idAndFormat>[^\s]+)$/g,se=r=>r?Object.fromEntries(r.split(",").map(t=>t.split("_"))):{},St=({host:r,cloudName:t,assetType:e,deliveryType:s,signature:n,transformations:a={},version:o,id:i,format:c})=>{c&&(a.f=c);const f=Object.entries(a).map(([m,u])=>`${m}_${u}`).join(",");return`https://${[r,t,e,s,n,f,o,i].filter(Boolean).join("/")}`},wt=r=>{const e=[...p(r).toString().matchAll(ne)];if(!e.length)throw new Error("Invalid Cloudinary URL");const s=e[0].groups||{},{transformations:n="",idAndFormat:a,...o}=s;delete s.idAndFormat;const i=a.lastIndexOf("."),c=i<0?a:a.slice(0,i),f=i<0?void 0:a.slice(i+1),{w:l,h:m,f:u,..._}=se(n),d=u&&u!=="auto"?u:f;return{base:St({...o,id:c,transformations:_}),width:Number(l)||void 0,height:Number(m)||void 0,format:d,cdn:"cloudinary",params:{...s,id:s.deliveryType==="fetch"?a:c,format:d,transformations:_}}},ae=({base:r,width:t,height:e,format:s,params:n})=>{var i;const a=wt(r.toString()),o={transformations:{},...a.params,...n,format:s||"auto"};return t&&(o.transformations.w=O(t).toString()),e&&(o.transformations.h=O(e).toString()),(i=o.transformations).c||(i.c="lfill"),St(o)},oe=({url:r,width:t,height:e,format:s="auto"})=>{var o,i;const n=wt(r);if(!n)throw new Error("Invalid Cloudinary URL");if(((o=n.params)==null?void 0:o.assetType)!=="image")throw new Error("Cloudinary transformer only supports images");if((i=n.params)!=null&&i.signature)throw new Error("Cloudinary transformer does not support signed URLs");const a={...n,width:t,height:e,format:s};return ae(a)},ie=/https?:\/\/(?<host>[^\/]+)\/cdn-cgi\/image\/(?<transformations>[^\/]+)?\/(?<path>.*)$/g,ce=r=>Object.fromEntries(r.split(",").map(t=>t.split("="))),Pt=({host:r,transformations:t={},path:e})=>{const s=Object.entries(t).map(([a,o])=>`${a}=${o}`).join(",");return`https://${[r,"cdn-cgi","image",s,e].join("/")}`},xt=r=>{const t=p(r),e=[...t.toString().matchAll(ie)];if(!e.length)throw new Error("Invalid Cloudflare URL");const s=e[0].groups||{},{transformations:n,...a}=s,{width:o,height:i,f:c,...f}=ce(n);return Pt({...a,transformations:f}),{base:t.toString(),width:Number(o)||void 0,height:Number(i)||void 0,format:c,cdn:"cloudflare",params:{...s,transformations:f}}},le=({base:r,width:t,height:e,format:s,params:n})=>{var i;const a=xt(r.toString()),o={transformations:{},...a.params,...n};return t&&(o.transformations.width=t==null?void 0:t.toString()),e&&(o.transformations.height=e==null?void 0:e.toString()),s&&(o.transformations.f=s==="jpg"?"jpeg":s),(i=o.transformations).fit||(i.fit="cover"),new URL(Pt(o))},ue=({url:r,width:t,height:e,format:s="auto"})=>{const n=xt(r);if(!n)throw new Error("Invalid Cloudflare URL");const a={...n,width:t,height:e,format:s};return le(a)},fe=({url:r,width:t,height:e})=>{const s=p(r);return h(s,"width",t,!0,!0),t&&e&&E(s,"aspect_ratio",`${t}:${e}`),s},me=/(?<id>\/f\/\d+\/\d+x\d+\/\w+\/[^\/]+)\/?(?<modifiers>m\/?(?<crop>\d+x\d+:\d+x\d+)?\/?(?<resize>(?<flipx>\-)?(?<width>\d+)x(?<flipy>\-)?(?<height>\d+))?\/?(filters\:(?<filters>[^\/]+))?)?$/g,de=/^(?<modifiers>\/(?<crop>\d+x\d+:\d+x\d+)?\/?(?<resize>(?<flipx>\-)?(?<width>\d+)x(?<flipy>\-)?(?<height>\d+))?\/?(filters\:(?<filters>[^\/]+))?\/?)?(?<id>\/f\/.+)$/g,he=r=>r?Object.fromEntries(r.split(":").map(t=>{if(!t)return[];const[e,s]=t.split("(");return[e,s.replace(")","")]})):{},ge=r=>{if(!r)return;const t=Object.entries(r).map(([e,s])=>`${e}(${s??""})`);if(t.length!==0)return`filters:${t.join(":")}`},pe=r=>{const t=p(r),e=t.hostname==="img2.storyblok.com"?de:me,[s]=t.pathname.matchAll(e);if(!s||!s.groups)throw new Error("Invalid Storyblok URL");const{id:n,crop:a,width:o,height:i,filters:c,flipx:f,flipy:l}=s.groups,{format:m,...u}=he(c);return t.hostname==="img2.storyblok.com"&&(t.hostname="a.storyblok.com"),{base:t.origin+n,width:Number(o)||void 0,height:Number(i)||void 0,format:m,params:{crop:a,filters:u,flipx:f,flipy:l},cdn:"storyblok"}},_e=({base:r,width:t=0,height:e=0,format:s,params:n={}})=>{const{crop:a,filters:o,flipx:i="",flipy:c=""}=n,f=`${i}${t}x${c}${e}`;return new URL([r,"m",a,f,ge(o),s].filter(Boolean).join("/"))},be=({url:r,width:t,height:e,format:s})=>{const n=pe(r);if(n)return s&&(n.params||(n.params={filters:{}}),n.params.filters||(n.params.filters={}),n.params.filters.format=s),_e({...n,width:t,height:e})},ye=({url:r,width:t,height:e,format:s})=>{const n=p(r);return h(n,"w",t,!0,!0),h(n,"h",e,!0,!0),h(n,"fm",s,!0),t&&e&&E(n,"fit","crop"),n},mt=r=>{const e=p(r).searchParams.get("url");if(!e||!e.startsWith("http"))return!1;const s=vt(e);return s?{cdn:s,url:e}:!1},ve=({base:r,width:t,params:{quality:e=75,root:s="_vercel"}={}})=>{const n=new URL("http://n");return n.pathname=`/${s}/image`,n.searchParams.set("url",r.toString()),h(n,"w",t,!1,!0),E(n,"q",e),yt(n)},Ut=({url:r,width:t,cdn:e})=>{const s=p(r),n=s.pathname.startsWith("/_next/image")||s.pathname.startsWith("/_vercel/image"),a=n?s.searchParams.get("url"):r.toString();if(a)return h(s,"w",t,!0,!0),n?J(s):ve({base:a,width:t,params:{root:e==="nextjs"?"_next":"_vercel"}})},Se=r=>Ut({...r,cdn:"nextjs"}),we=({url:r,width:t,height:e,format:s})=>{const n=p(r);return h(n,"wid",t,!0,!0),h(n,"hei",e,!0,!0),h(n,"fmt",s,!0),h(n,"qlt",W(n,"qlt"),!0),h(n,"scl",W(n,"scl"),!0),E(n,"fit","crop"),!t&&!e&&E(n,"scl",1),n},Pe=({url:r,width:t,height:e,format:s})=>{const n=p(r);return h(n,"width",t,!0,!0),h(n,"height",e,!0,!0),h(n,"format",s,!0),h(n,"quality",W(n,"quality"),!0),E(n,"enlarge",0),n},xe=({url:r,width:t,height:e,format:s})=>{const n=p(r);return h(n,"width",t,!0,!0),h(n,"height",e,!0,!0),h(n,"format",s),h(n,"quality",W(n,"quality"),!0),n},X={width:"w",height:"h",autoWidthWithFallback:"w_auto",auto_width_fallback:"w_auto",scaleToScreenWidth:"pc",scale_to_screen_width:"pc",crop:"cr",outputFormat:"f",format:"f",fit:"m",fitMethod:"m",compression:"cmpr",sharpness:"s",rotate:"r",inline:"in",keepMeta:"meta",keep_meta:"meta",noOptimization:"pass",no_optimization:"pass",force_download:"dl",max_device_pixel_ratio:"maxdpr",maxDevicePixelRatio:"maxdpr"};function Ue(r){return Object.keys(X).find(s=>X[s]===r)||""}function je(r){let t=r.toString(),e=[];if(t){let s=t.split("imgeng=");s.length>1&&(e=s[1].split("/"))}return e}function Ee(r){let t=r.toString(),e="";if(t){let s=t.split("imgeng=");s.length>1?e=s[0].slice(0,-1):e=t}return e}const Ie=({url:r,width:t,height:e,format:s})=>{const n=p(r),a=Ee(n);let o={};const i=n.toString()===a?[]:je(n);i.length&&(o=Oe(i)),t&&(o.width=t),e&&(o.height=e),s&&(o.format=s),o.hasOwnProperty("fit")||(o={...o,fit:"cropbox"});let c=$e(o),f=Re(c),l=f===""?"":a.includes("?")?"&":"?";return`${a}${l}${f}`};function $e(r){return Object.entries(r).reduce((t,[e,s])=>t+Le(e,s),"")}function Re(r){return r&&r!==""?`imgeng=${r}`:""}function Le(r,t){let e=X[r];return e&&(t||t===0)?`/${e}_${t}`:""}function Oe(r){let t={};return r.forEach(e=>{let s=e.split("_");if(s.length>1){let n=s[0],a=s[1],o=Ue(n);o&&(t[o]=a)}}),t}const Ne=({url:r,width:t,height:e,format:s})=>{const n=p(r);return h(n,"width",t,!0,!0),h(n,"height",e,!0,!0),h(n,"format",s),n.searchParams.has("format")||E(n,"auto","webp"),t&&e&&E(n,"fit","crop"),n},ze=/https?:\/\/(?<host>[^\/]+)\/cdn-cgi\/imagedelivery\/(?<accountHash>[^\/]+)\/(?<imageId>[^\/]+)\/*(?<transformations>[^\/]+)*$/g,ke=r=>{var t;return Object.fromEntries(((t=r==null?void 0:r.split(","))==null?void 0:t.map(e=>e.split("=")))??[])},We=({host:r,accountHash:t,transformations:e={},imageId:s})=>{const n=Object.entries(e).map(([o,i])=>`${o}=${i}`).join(",");return`https://${[r,"cdn-cgi","imagedelivery",t,s,n].join("/")}`},jt=r=>{const t=p(r),e=[...t.toString().matchAll(ze)];if(!e.length)throw new Error("Invalid Cloudflare Images URL");const s=e[0].groups||{},{transformations:n,...a}=s,{w:o,h:i,f:c,...f}=ke(n);return{base:t.toString(),width:Number(o)||void 0,height:Number(i)||void 0,format:c,cdn:"cloudflare_images",params:{...a,transformations:f}}},Te=({base:r,width:t,height:e,format:s,params:n})=>{var i;const a=jt(r.toString()),o={transformations:{},...a.params,...n};return t&&(o.transformations.w=t==null?void 0:t.toString()),e&&(o.transformations.h=e==null?void 0:e.toString()),s&&(o.transformations.f=s),(i=o.transformations).fit||(i.fit="cover"),new URL(We(o))},qe=({url:r,width:t,height:e,format:s="auto"})=>{const n=jt(r);if(!n)throw new Error("Invalid Cloudflare Images URL");const a={...n,width:t,height:e,format:s};return Te(a)},Ce=r=>{const t=p(r),[e,...s]=t.pathname.split("/").slice(1),n=Object.fromEntries(e.split(",").map(a=>{const[o,i]=a.split("_");return[o,i]}));if(n.s){const[a,o]=n.s.split("x");n.w||(n.w=a),n.h||(n.h=o)}return{base:s.join("/"),width:Number(n.w)||void 0,height:Number(n.h)||void 0,quality:Number(n.q)||void 0,format:n.f||"auto",params:n,cdn:"ipx"}},dt=({base:r,width:t,height:e,format:s,params:n})=>{const a=(n==null?void 0:n.modifiers)??{};t&&e?a.s=`${t}x${e}`:t?a.w=`${t}`:e&&(a.h=`${e}`),s&&(a.f=s);const o=n!=null&&n.base.endsWith("/")?n==null?void 0:n.base:`${n==null?void 0:n.base}/`,i=Object.entries(a).map(([l,m])=>`${l}_${m}`).join(","),c=r.toString(),f=c.startsWith("/")?c.slice(1):c;return`${o}${i}/${f}`},Ae=r=>{var o,i,c,f;const t=String(r.url),e=p(t),s=e.pathname.startsWith("/_ipx")&&e.hostname!=="n"?`${e.origin}/_ipx`:"/_ipx",n=((i=(o=r.cdnOptions)==null?void 0:o.ipx)==null?void 0:i.base)??s;if(n&&n!=="/"&&t.startsWith(n)){const l=Ce(t.replace(n,""));return dt({...l,...r,params:{...(c=r.cdnOptions)==null?void 0:c.ipx,base:n}})}return dt({...r,base:t,params:{...(f=r.cdnOptions)==null?void 0:f.ipx,base:n}})},Me=({url:r,width:t,height:e,format:s})=>{const n=p(r),a=J(new URL(n.pathname,n.origin)),o={searchParams:new URLSearchParams};return h(o,"href",a,!0,!0),h(o,"w",t,!0,!0),h(o,"h",e,!0,!0),h(o,"f",s),`/_image?${o.searchParams.toString()}`},Fe=new Set(["w","h","q","fm","url","width","height","quality"]),De=r=>{const t=p(r),e=Number(t.searchParams.get("w")??t.searchParams.get("width"))??void 0,s=Number(t.searchParams.get("h")??t.searchParams.get("height"))??void 0,n=Number(t.searchParams.get("q")??t.searchParams.get("quality"))||void 0,a=t.searchParams.get("fm")||void 0,o=t.searchParams.get("url")||"",i={quality:n};return t.searchParams.forEach((c,f)=>{Fe.has(f)||(i[f]=c)}),t.search="",{base:o,width:e,height:s,format:a,params:i,cdn:"netlify"}},ht=({base:r,width:t,height:e,format:s,params:{site:n,quality:a,...o}={}})=>{const i=p("/.netlify/images",n);return Object.entries(o).forEach(([c,f])=>h(i,c,f)),h(i,"q",a,!0,!0),h(i,"w",t,!0,!0),h(i,"h",e,!0,!0),h(i,"fm",s),E(i,"fit","cover"),i.searchParams.set("url",r.toString()),J(i)},Be=r=>{var e,s;const t=p(r.url);if(t.pathname.startsWith("/.netlify/images")){const{params:n,base:a,format:o}=De(t);return ht({base:a,format:o,...r,params:{...n,site:t.hostname==="n"?void 0:t.origin}})}return ht({...r,base:r.url,params:{site:(s=(e=r.cdnOptions)==null?void 0:e.netlify)==null?void 0:s.site}})},He=r=>(r.searchParams.get("tr")||"").split(",").reduce((e,s)=>{const[n,a]=s.split("-");return e[n]=a,e},{}),Ve=({url:r,width:t,height:e,format:s})=>{const n=p(r),a=He(n);a.w=t&&Math.round(t),a.h=e&&Math.round(e),a.f||(a.f="auto"),s&&(a.f=s);const o=Object.keys(a).map(i=>{const c=a[i];if(c)return`${i}-${c}`}).filter(i=>i).join(",");return n.searchParams.set("tr",o),n},Ge=/^https?:\/\/(?<host>[^\/]+)\/(?<uuid>[^\/]+)/g;function Et(r){const t=new URL(r),e=t.pathname+t.search+t.hash,s=e.lastIndexOf("http"),n=e.lastIndexOf("/");let a="";return s>=0?a=e.slice(s):n>=0&&(a=e.slice(n+1)),a}function Ke(r){return r.startsWith("http")}function Ze(r){const t=new URL(r);return{pathname:t.origin+t.pathname||"",search:t.search||"",hash:t.hash||""}}function Xe(r){const t=new URL(r),e=Et(r),s=Ke(e)?Ze(e).pathname:e;return t.pathname=t.pathname.replace(s,""),t.search="",t.hash="",t.toString()}const Je=r=>{if(typeof r!="string"||!r)return"";let t=r.trim();return t.startsWith("-/")?t=t.slice(2):t.startsWith("/")&&(t=t.slice(1)),t.endsWith("/")&&(t=t.slice(0,t.length-1)),t};function Qe(r){const t=Xe(r),e=new URL(t),s=e.pathname.indexOf("/-/");return s===-1?[]:e.pathname.substring(s).split("/-/").filter(Boolean).map(a=>Je(a))}const Ye=r=>r.length?r.reduce((t,e)=>{const[s,n]=e.split("/");return{...t,[s]:n}},{}):{},It=({host:r,uuid:t,operations:e={},filename:s})=>{const n=Object.entries(e).map(([o,i])=>`${o}/${i}`).join("/-/");return`https://${[r,t,n?`-/${n}`:"",s].join("/")}`},$t=r=>{const t=p(r),e=[...t.toString().matchAll(Ge)];if(!e.length)throw new Error("Invalid Uploadcare URL");const s=e[0].groups||{},{...n}=s,a=Et(t.toString()),{format:o,...i}=Ye(Qe(t.toString())),c=o&&o!=="auto"?o:"auto";return{base:It({...n,filename:a||void 0,operations:{...i,format:c}}),cdn:"uploadcare",params:{...s,filename:a||void 0,operations:{...i,format:c}}}},tr=({base:r,width:t,height:e,params:s})=>{const n=r.toString(),a=$t(n.endsWith("/")?n:`${n}/`),o={operations:{},...a.params,...s};return t&&e?o.operations={...o.operations,resize:`${t}x${e}`}:(t&&(o.operations={...o.operations,resize:`${t}x`}),e&&(o.operations={...o.operations,resize:`x${e}`})),It(o)},er=({url:r,width:t,height:e})=>{const s=$t(r);if(!s)throw new Error("Invalid Uploadcare URL");const n={...s,width:t,height:e};return tr(n)},rr=["origin"],Rt="/storage/v1/object/public/",Q="/storage/v1/render/image/public/",nr=r=>r.pathname.startsWith(Q),Lt=r=>{const t=p(r);if(!nr(t))return{cdn:"supabase",base:t.origin+t.pathname};const s=t.pathname.replace(Q,""),n=t.searchParams.has("quality")?Number(t.searchParams.get("quality")):void 0,a=t.searchParams.has("width")?Number(t.searchParams.get("width")):void 0,o=t.searchParams.has("height")?Number(t.searchParams.get("height")):void 0,i=t.searchParams.has("format")?t.searchParams.get("format"):void 0,c=t.searchParams.has("resize")?t.searchParams.get("resize"):void 0;return{cdn:"supabase",base:t.origin+Rt+s,width:a,height:o,format:i,params:{quality:n,resize:c}}},sr=({base:r,width:t,height:e,format:s,params:n})=>{const a=Lt(r.toString());r=a.base,t=t||a.width,e=e||a.height,s=s||a.format,n={...a.params,...n};const o=new URLSearchParams;return t&&o.set("width",O(t).toString()),e&&o.set("height",O(e).toString()),s&&rr.includes(s)&&o.set("format",s),n!=null&&n.quality&&o.set("quality",O(n.quality).toString()),n!=null&&n.resize&&o.set("resize",n.resize),o.toString()===""?r:a.base.replace(Rt,Q)+"?"+o.toString()},ar=({url:r,width:t,height:e,format:s,cdnOptions:n})=>{const a=Lt(r);return sr({base:a.base,width:t||a.width,height:e||a.height,format:s||a.format,params:(n==null?void 0:n.supabase)||a.params})},gt={vercel:mt,nextjs:mt};function or(r,t){if(!(t in gt))return!1;const e=gt[t];return e?e(r):!1}function Y(r,t){const e=Vt(r)||t;if(!e)return!1;const s=or(r,e);return s||{cdn:e,url:r}}const tt=r=>({imgix:Xt,contentful:Kt,"builder.io":Zt,shopify:te,wordpress:ee,cloudimage:re,cloudinary:oe,bunny:fe,storyblok:be,cloudflare:ue,vercel:Ut,nextjs:Se,scene7:we,"kontent.ai":ye,keycdn:Pe,directus:xe,imageengine:Ie,contentstack:Ne,cloudflare_images:qe,ipx:Ae,astro:Me,netlify:Be,imagekit:Ve,uploadcare:er,supabase:ar})[r];var ir=(r,t)=>{if(!(!r||!t))switch(t){case"constrained":return`(min-width: ${r}px) ${r}px, 100vw`;case"fixed":return`${r}px`;case"fullWidth":return"100vw";default:return}},N=r=>r||r===0?`${r}px`:void 0,cr=({width:r,height:t,aspectRatio:e,layout:s,objectFit:n="cover",background:a})=>{const o=[["object-fit",n]];return a!=null&&a.startsWith("https:")||a!=null&&a.startsWith("http:")||a!=null&&a.startsWith("data:")?(o.push(["background-image",`url(${a})`]),o.push(["background-size","cover"]),o.push(["background-repeat","no-repeat"])):o.push(["background",a]),s==="fixed"&&(o.push(["width",N(r)]),o.push(["height",N(t)])),s==="constrained"&&(o.push(["max-width",N(r)]),o.push(["max-height",N(t)]),o.push(["aspect-ratio",e?`${e}`:void 0]),o.push(["width","100%"])),s==="fullWidth"&&(o.push(["width","100%"]),o.push(["aspect-ratio",e?`${e}`:void 0]),o.push(["height",N(t)])),Object.fromEntries(o.filter(([,i])=>i))},lr=[6016,5120,4480,3840,3200,2560,2048,1920,1668,1280,1080,960,828,750,640],pt=24,ur=({width:r,layout:t,resolutions:e=lr})=>{if(t==="fullWidth")return e;if(!r)return[];const s=r*2;return t==="fixed"?[r,s]:t==="constrained"?[r,s,...e.filter(n=>n<s)]:[]},fr=({src:r,width:t,layout:e="constrained",height:s,aspectRatio:n,breakpoints:a,cdn:o,transformer:i,format:c})=>{const f=Y(r,o);return f&&!i&&(i=tt(f.cdn)),i?(a||(a=ur({width:t,layout:e})),a.sort((l,m)=>l-m).map(l=>{let m;return s&&n&&(m=Math.round(l/n)),{url:f?f.url:r,width:l,height:m,format:c}})):[]},mr=r=>{let{src:t,cdn:e,transformer:s}=r;const n=Y(t,e);return n&&!s&&(s=tt(n.cdn)),s?fr({...r,transformer:s}).map(a=>{const o=s(a);return`${o==null?void 0:o.toString()} ${a.width}w`}).join(`,
`):""};function dr({width:r,height:t,priority:e,layout:s="constrained",aspectRatio:n,...a}){return r=r&&Number(r)||void 0,t=t&&Number(t)||void 0,e?(a.loading||(a.loading="eager"),a.fetchpriority||(a.fetchpriority="high")):(a.loading||(a.loading="lazy"),a.decoding||(a.decoding="async")),a.alt===""&&(a.role||(a.role="presentation")),n?r?t||(t=Math.round(r/n)):t&&(r=Math.round(t*n)):r&&t&&(n=r/t),{width:r,height:t,aspectRatio:n,layout:s,...a}}function hr(r){let{src:t,cdn:e,transformer:s,background:n,layout:a,objectFit:o,breakpoints:i,width:c,height:f,aspectRatio:l,unstyled:m,...u}=dr(r);const _=t?Y(t,e):void 0;let d=t;if(_&&(d=_.url,s||(s=tt(_.cdn))),s&&n==="auto"){const b=l?Math.round(pt/l):void 0,y=s({url:d,width:pt,height:b});y&&(n=y.toString())}const g={width:c,height:f,aspectRatio:l,layout:a,objectFit:o,background:n};if(u.sizes||(u.sizes=ir(c,a)),m||(u.style={...cr(g),...u.style}),s){u.srcset=mr({src:d,width:c,height:f,aspectRatio:l,layout:a,breakpoints:i,transformer:s,cdn:e});const b=s({url:d,width:c,height:f});b&&(d=b),(a==="fullWidth"||a==="constrained")&&(c=void 0,f=void 0)}return{...u,src:d==null?void 0:d.toString(),width:c,height:f}}function gr(r,t){const e=RegExp(r,"g");return s=>{if(typeof s!="string")throw new TypeError(`expected an argument of type string, but got ${typeof s}`);return s.match(e)?s.replace(e,t):s}}const pr=gr(/[A-Z]/,r=>`-${r.toLowerCase()}`);function _r(r,t=pr){if(!r||typeof r!="object"||Array.isArray(r))throw new TypeError(`expected an argument of type object, but got ${typeof r}`);return Object.keys(r).map(e=>`${t(e)}: ${r[e]};`).join(`
`)}function br(r){var l,m,u,_;let t,e,s,n,a,o,i,c=[r[11],{style:r[0]},{loading:r[6]},{width:r[8]},{height:r[7]},{decoding:r[5]},{role:r[3]},{fetchpriority:r[1]},{alt:e=(l=r[10])==null?void 0:l.toString()},{src:s=(m=r[9])==null?void 0:m.toString()},{srcset:n=(u=r[4])==null?void 0:u.toString()},{sizes:a=(_=r[2])==null?void 0:_.toString()}],f={};for(let d=0;d<c.length;d+=1)f=B(f,c[d]);return{c(){t=U("img"),this.h()},l(d){t=j(d,"IMG",{style:!0,loading:!0,width:!0,height:!0,decoding:!0,role:!0,fetchpriority:!0,alt:!0,src:!0,srcset:!0,sizes:!0}),this.h()},h(){st(t,f)},m(d,g){T(d,t,g),o||(i=[at(t,"load",r[15]),at(t,"error",r[16])],o=!0)},p(d,[g]){var b,y,P,S;st(t,f=Tt(c,[g&2048&&d[11],g&1&&{style:d[0]},g&64&&{loading:d[6]},g&256&&{width:d[8]},g&128&&{height:d[7]},g&32&&{decoding:d[5]},g&8&&{role:d[3]},g&2&&{fetchpriority:d[1]},g&1024&&e!==(e=(b=d[10])==null?void 0:b.toString())&&{alt:e},g&512&&!Ot(t.src,s=(y=d[9])==null?void 0:y.toString())&&{src:s},g&16&&n!==(n=(P=d[4])==null?void 0:P.toString())&&{srcset:n},g&4&&a!==(a=(S=d[2])==null?void 0:S.toString())&&{sizes:a}]))},i:z,o:z,d(d){d&&x(t),o=!1,Nt(i)}}}function yr(r,t,e){let s,n,a,o,i,c,f,l,m,u,_,d,g,b;function y(S){it.call(this,r,S)}function P(S){it.call(this,r,S)}return r.$$set=S=>{e(11,t=B(B({},t),ot(S)))},r.$$.update=()=>{e(12,{style:s,...n}=t,s,(e(14,n),e(11,t))),r.$$.dirty&16384&&e(10,{alt:a,style:o,src:i,width:c,height:f,loading:l,decoding:m,srcset:u,role:_,sizes:d,fetchpriority:g}=hr(n),a,(e(13,o),e(14,n),e(11,t)),(e(9,i),e(14,n),e(11,t)),(e(8,c),e(14,n),e(11,t)),(e(7,f),e(14,n),e(11,t)),(e(6,l),e(14,n),e(11,t)),(e(5,m),e(14,n),e(11,t)),(e(4,u),e(14,n),e(11,t)),(e(3,_),e(14,n),e(11,t)),(e(2,d),e(14,n),e(11,t)),(e(1,g),e(14,n),e(11,t))),r.$$.dirty&12288&&e(0,b=[_r(o||{}),s].filter(Boolean).join(";"))},t=ot(t),[b,g,d,_,u,m,l,f,c,i,a,t,s,o,n,y,P]}class vr extends M{constructor(t){super(),F(this,t,yr,br,A,{})}}function _t(r,t,e){const s=r.slice();s[1]=t[e];const n=qt(s[1].title);return s[2]=n,s}function bt(r){let t,e,s,n,a,o,i=r[2].year+"",c,f,l=r[2].name+"",m,u,_,d;return s=new vr({props:{src:`${Z}${r[1].feature.image}`,alt:r[1].feature.description,title:r[1].feature.title,layout:"fullWidth",height:320}}),{c(){t=U("li"),e=U("a"),H(s.$$.fragment),n=$(),a=U("div"),o=U("span"),c=q(i),f=$(),m=q(l),_=$(),this.h()},l(g){t=j(g,"LI",{class:!0});var b=I(t);e=j(b,"A",{href:!0,class:!0});var y=I(e);V(s.$$.fragment,y),n=R(y),a=j(y,"DIV",{class:!0});var P=I(a);o=j(P,"SPAN",{class:!0});var S=I(o);c=C(S,i),S.forEach(x),f=R(P),m=C(P,l),P.forEach(x),y.forEach(x),_=R(b),b.forEach(x),this.h()},h(){w(o,"class","svelte-dmdgnt"),w(a,"class","title svelte-dmdgnt"),w(e,"href",u="moments/"+r[1].slug),w(e,"class","svelte-dmdgnt"),w(t,"class","moment svelte-dmdgnt")},m(g,b){T(g,t,b),v(t,e),G(s,e,null),v(e,n),v(e,a),v(a,o),v(o,c),v(a,f),v(a,m),v(t,_),d=!0},p(g,b){const y={};b&1&&(y.src=`${Z}${g[1].feature.image}`),b&1&&(y.alt=g[1].feature.description),b&1&&(y.title=g[1].feature.title),s.$set(y),(!d||b&1)&&i!==(i=g[2].year+"")&&ct(c,i),(!d||b&1)&&l!==(l=g[2].name+"")&&ct(m,l),(!d||b&1&&u!==(u="moments/"+g[1].slug))&&w(e,"href",u)},i(g){d||(L(s.$$.fragment,g),d=!0)},o(g){k(s.$$.fragment,g),d=!1},d(g){g&&x(t),K(s)}}}function Sr(r){let t,e,s='<h2 class="svelte-dmdgnt">The 13 Moments</h2> <p class="svelte-dmdgnt">Explore the pivotal moments in King&#39;s College history</p>',n,a,o,i=ut(r[0]),c=[];for(let l=0;l<i.length;l+=1)c[l]=bt(_t(r,i,l));const f=l=>k(c[l],1,1,()=>{c[l]=null});return{c(){t=U("section"),e=U("hgroup"),e.innerHTML=s,n=$(),a=U("ul");for(let l=0;l<c.length;l+=1)c[l].c();this.h()},l(l){t=j(l,"SECTION",{id:!0,class:!0});var m=I(t);e=j(m,"HGROUP",{class:!0,"data-svelte-h":!0}),D(e)!=="svelte-4ab9fe"&&(e.innerHTML=s),n=R(m),a=j(m,"UL",{class:!0});var u=I(a);for(let _=0;_<c.length;_+=1)c[_].l(u);u.forEach(x),m.forEach(x),this.h()},h(){w(e,"class","svelte-dmdgnt"),w(a,"class","moments svelte-dmdgnt"),w(t,"id","moments"),w(t,"class","svelte-dmdgnt")},m(l,m){T(l,t,m),v(t,e),v(t,n),v(t,a);for(let u=0;u<c.length;u+=1)c[u]&&c[u].m(a,null);o=!0},p(l,[m]){if(m&1){i=ut(l[0]);let u;for(u=0;u<i.length;u+=1){const _=_t(l,i,u);c[u]?(c[u].p(_,m),L(c[u],1)):(c[u]=bt(_),c[u].c(),L(c[u],1),c[u].m(a,null))}for(kt(),u=i.length;u<c.length;u+=1)f(u);Wt()}},i(l){if(!o){for(let m=0;m<i.length;m+=1)L(c[m]);o=!0}},o(l){c=c.filter(Boolean);for(let m=0;m<c.length;m+=1)k(c[m]);o=!1},d(l){l&&x(t),zt(c,l)}}}function wr(r,t,e){let{moments:s}=t;return r.$$set=n=>{"moments"in n&&e(0,s=n.moments)},[s]}class Pr extends M{constructor(t){super(),F(this,t,wr,Sr,A,{moments:0})}}function xr(r){let t,e,s,n;return t=new Mt({}),s=new Pr({props:{moments:r[0].moments}}),{c(){H(t.$$.fragment),e=$(),H(s.$$.fragment)},l(a){V(t.$$.fragment,a),e=R(a),V(s.$$.fragment,a)},m(a,o){G(t,a,o),T(a,e,o),G(s,a,o),n=!0},p(a,[o]){const i={};o&1&&(i.moments=a[0].moments),s.$set(i)},i(a){n||(L(t.$$.fragment,a),L(s.$$.fragment,a),n=!0)},o(a){k(t.$$.fragment,a),k(s.$$.fragment,a),n=!1},d(a){a&&x(e),K(t,a),K(s,a)}}}function Ur(r,t,e){let{data:s}=t;return r.$$set=n=>{"data"in n&&e(0,s=n.data)},[s]}class Nr extends M{constructor(t){super(),F(this,t,Ur,xr,A,{data:0})}}export{Nr as component};
