import{s as se,b as a,c as T,t as d,d as s,f as i,j as it,i as L,g as v,h as o,k as E,l as ae,m as t,q as F,p as ne}from"../chunks/scheduler.BFCMfM9_.js";import{S as oe,i as re,c as ie,a as ce,m as he,t as ue,b as de,d as ve}from"../chunks/index.mj2WGaPU.js";import{e as te}from"../chunks/each.B2PkbbDs.js";import{E as fe,n as me,d as _e,l as pe,s as ge}from"../chunks/tableColumns.DXo-Lyc8.js";function ee(r,l,c){const h=r.slice();return h[13]=l[c].type,h[14]=l[c].count,h[15]=l[c].percentage,h}function le(r){let l,c,h=r[14].toLocaleString()+"",C,R,b=r[15]+"",x,G,S,w=r[13]+"",u,y;return{c(){l=a("li"),c=a("strong"),C=d(h),R=d(" ("),x=d(b),G=d(`%)
							`),S=a("em"),u=d(w),y=T(),this.h()},l(m){l=s(m,"LI",{class:!0});var _=i(l);c=s(_,"STRONG",{});var N=i(c);C=v(N,h),N.forEach(o),R=v(_," ("),x=v(_,b),G=v(_,`%)
							`),S=s(_,"EM",{});var e=i(S);u=v(e,w),e.forEach(o),y=L(_),_.forEach(o),this.h()},h(){E(l,"class","svelte-2lx9ti")},m(m,_){ae(m,l,_),t(l,c),t(c,C),t(l,R),t(l,x),t(l,G),t(l,S),t(S,u),t(l,y)},p(m,_){_&4&&h!==(h=m[14].toLocaleString()+"")&&F(C,h),_&4&&b!==(b=m[15]+"")&&F(x,b),_&4&&w!==(w=m[13]+"")&&F(u,w)},d(m){m&&o(l)}}}function Ee(r){let l,c,h,C,R="Events",b,x,G=r[5].excerpt+"",S,w,u,y,m,_="Summary",N,e,H,A,Ft=r[6].length.toLocaleString()+"",yt,Tt,Lt,I,k,z,zt="Completeness",bt,B,P,$,tt=r[0].toLocaleString()+"",ct,Rt,ht,wt,It,M,Ot,et,lt=r[3].toLocaleString()+"",ut,Gt,Ht,O,K,Kt="Type distribution",Pt,U,Dt,at,st=r[2].length+"",dt,Nt,At,V,kt,j,J,Vt="Location distribution",Bt,q,Mt,nt,ot=r[1].toLocaleString()+"",vt,Ut,jt,Q,D,X=te(r[2].slice(0,3)),p=[];for(let n=0;n<X.length;n+=1)p[n]=le(ee(r,X,n));return Q=new fe({props:{data:r[6],columns:r[8],label:Ce,sortBy:r[9],url:r[7]}}),{c(){l=a("article"),c=a("header"),h=a("hgroup"),C=a("h1"),C.textContent=R,b=T(),x=a("p"),S=d(G),w=T(),u=a("section"),y=a("hgroup"),m=a("h2"),m.textContent=_,N=T(),e=a("p"),H=d("The database currently contains "),A=a("strong"),yt=d(Ft),Tt=d(`
				documented events, with the following characteristics:`),Lt=T(),I=a("div"),k=a("article"),z=a("h3"),z.textContent=zt,bt=T(),B=a("ul"),P=a("li"),$=a("strong"),ct=d(tt),Rt=d(`
						(`),ht=d(r[4]),wt=d("%) have descriptions"),It=T(),M=a("li"),Ot=d("The event date span is "),et=a("strong"),ut=d(lt),Gt=d(" years."),Ht=T(),O=a("article"),K=a("h3"),K.textContent=Kt,Pt=T(),U=a("p"),Dt=d("The database includes events with "),at=a("strong"),dt=d(st),Nt=d(` distinct types.
					The most common types are:`),At=T(),V=a("ul");for(let n=0;n<p.length;n+=1)p[n].c();kt=T(),j=a("article"),J=a("h3"),J.textContent=Vt,Bt=T(),q=a("p"),Mt=d("The database includes events from "),nt=a("strong"),vt=d(ot),Ut=d(`
					distinct locations.`),jt=T(),ie(Q.$$.fragment),this.h()},l(n){l=s(n,"ARTICLE",{});var g=i(l);c=s(g,"HEADER",{});var f=i(c);h=s(f,"HGROUP",{});var W=i(h);C=s(W,"H1",{"data-svelte-h":!0}),it(C)!=="svelte-xtcg81"&&(C.textContent=R),b=L(W),x=s(W,"P",{});var Jt=i(x);S=v(Jt,G),Jt.forEach(o),W.forEach(o),f.forEach(o),w=L(g),u=s(g,"SECTION",{class:!0});var ft=i(u);y=s(ft,"HGROUP",{});var mt=i(y);m=s(mt,"H2",{"data-svelte-h":!0}),it(m)!=="svelte-1yu8q5y"&&(m.textContent=_),N=L(mt),e=s(mt,"P",{class:!0});var _t=i(e);H=v(_t,"The database currently contains "),A=s(_t,"STRONG",{});var Qt=i(A);yt=v(Qt,Ft),Qt.forEach(o),Tt=v(_t,`
				documented events, with the following characteristics:`),_t.forEach(o),mt.forEach(o),Lt=L(ft),I=s(ft,"DIV",{class:!0});var Y=i(I);k=s(Y,"ARTICLE",{class:!0});var pt=i(k);z=s(pt,"H3",{class:!0,"data-svelte-h":!0}),it(z)!=="svelte-1v62mo4"&&(z.textContent=zt),bt=L(pt),B=s(pt,"UL",{class:!0});var gt=i(B);P=s(gt,"LI",{class:!0});var rt=i(P);$=s(rt,"STRONG",{});var Wt=i($);ct=v(Wt,tt),Wt.forEach(o),Rt=v(rt,`
						(`),ht=v(rt,r[4]),wt=v(rt,"%) have descriptions"),rt.forEach(o),It=L(gt),M=s(gt,"LI",{class:!0});var Et=i(M);Ot=v(Et,"The event date span is "),et=s(Et,"STRONG",{});var Xt=i(et);ut=v(Xt,lt),Xt.forEach(o),Gt=v(Et," years."),Et.forEach(o),gt.forEach(o),pt.forEach(o),Ht=L(Y),O=s(Y,"ARTICLE",{class:!0});var Z=i(O);K=s(Z,"H3",{class:!0,"data-svelte-h":!0}),it(K)!=="svelte-x6zfic"&&(K.textContent=Kt),Pt=L(Z),U=s(Z,"P",{class:!0});var Ct=i(U);Dt=v(Ct,"The database includes events with "),at=s(Ct,"STRONG",{});var Yt=i(at);dt=v(Yt,st),Yt.forEach(o),Nt=v(Ct,` distinct types.
					The most common types are:`),Ct.forEach(o),At=L(Z),V=s(Z,"UL",{class:!0});var Zt=i(V);for(let qt=0;qt<p.length;qt+=1)p[qt].l(Zt);Zt.forEach(o),Z.forEach(o),kt=L(Y),j=s(Y,"ARTICLE",{class:!0});var xt=i(j);J=s(xt,"H3",{class:!0,"data-svelte-h":!0}),it(J)!=="svelte-jxyct3"&&(J.textContent=Vt),Bt=L(xt),q=s(xt,"P",{class:!0});var St=i(q);Mt=v(St,"The database includes events from "),nt=s(St,"STRONG",{});var $t=i(nt);vt=v($t,ot),$t.forEach(o),Ut=v(St,`
					distinct locations.`),St.forEach(o),xt.forEach(o),Y.forEach(o),ft.forEach(o),jt=L(g),ce(Q.$$.fragment,g),g.forEach(o),this.h()},h(){E(e,"class","svelte-2lx9ti"),E(z,"class","svelte-2lx9ti"),E(P,"class","svelte-2lx9ti"),E(M,"class","svelte-2lx9ti"),E(B,"class","svelte-2lx9ti"),E(k,"class","card svelte-2lx9ti"),E(K,"class","svelte-2lx9ti"),E(U,"class","svelte-2lx9ti"),E(V,"class","svelte-2lx9ti"),E(O,"class","card svelte-2lx9ti"),E(J,"class","svelte-2lx9ti"),E(q,"class","svelte-2lx9ti"),E(j,"class","card svelte-2lx9ti"),E(I,"class","summary-grid svelte-2lx9ti"),E(u,"class","svelte-2lx9ti")},m(n,g){ae(n,l,g),t(l,c),t(c,h),t(h,C),t(h,b),t(h,x),t(x,S),t(l,w),t(l,u),t(u,y),t(y,m),t(y,N),t(y,e),t(e,H),t(e,A),t(A,yt),t(e,Tt),t(u,Lt),t(u,I),t(I,k),t(k,z),t(k,bt),t(k,B),t(B,P),t(P,$),t($,ct),t(P,Rt),t(P,ht),t(P,wt),t(B,It),t(B,M),t(M,Ot),t(M,et),t(et,ut),t(M,Gt),t(I,Ht),t(I,O),t(O,K),t(O,Pt),t(O,U),t(U,Dt),t(U,at),t(at,dt),t(U,Nt),t(O,At),t(O,V);for(let f=0;f<p.length;f+=1)p[f]&&p[f].m(V,null);t(I,kt),t(I,j),t(j,J),t(j,Bt),t(j,q),t(q,Mt),t(q,nt),t(nt,vt),t(q,Ut),t(l,jt),he(Q,l,null),D=!0},p(n,[g]){if((!D||g&1)&&tt!==(tt=n[0].toLocaleString()+"")&&F(ct,tt),(!D||g&16)&&F(ht,n[4]),(!D||g&8)&&lt!==(lt=n[3].toLocaleString()+"")&&F(ut,lt),(!D||g&4)&&st!==(st=n[2].length+"")&&F(dt,st),g&4){X=te(n[2].slice(0,3));let f;for(f=0;f<X.length;f+=1){const W=ee(n,X,f);p[f]?p[f].p(W,g):(p[f]=le(W),p[f].c(),p[f].m(V,null))}for(;f<p.length;f+=1)p[f].d(1);p.length=X.length}(!D||g&2)&&ot!==(ot=n[1].toLocaleString()+"")&&F(vt,ot)},i(n){D||(ue(Q.$$.fragment,n),D=!0)},o(n){de(Q.$$.fragment,n),D=!1},d(n){n&&o(l),ne(p,n),ve(Q)}}}const Ce="events";function xe(r,l,c){let h,C,R,b,x,G,{data:S}=l;const{_metadata:w,collection:u,url:y,placesBySlug:m}=S,_=[me,_e,{header:"Type",accessor:"event_type"},pe(m),ge],N={initialSortKeys:[{id:"date",order:"asc"}]};return r.$$set=e=>{"data"in e&&c(10,S=e.data)},r.$$.update=()=>{r.$$.dirty&1&&c(4,C=(h/u.length*100).toFixed(1)),r.$$.dirty&2048&&c(3,b=Math.floor((R.maxEnd-R.minStart)/(1e3*60*60*24*365.25)))},c(0,h=u.filter(e=>e.description).length),c(11,R={minStart:Math.min(...u.map(e=>new Date(e.start_date).getTime())),maxEnd:Math.max(...u.map(e=>new Date(e.end_date).getTime()))}),c(2,x=Object.entries(u.reduce((e,H)=>{const A=H.event_type;return e[A]=(e[A]||0)+1,e},{})).map(([e,H])=>({type:e,count:H})).sort((e,H)=>H.count-e.count).map(e=>({...e,percentage:(e.count/u.length*100).toFixed(1)}))),c(1,G=[...new Set(u.map(e=>e.location))].filter(Boolean).length),[h,G,x,b,C,w,u,y,_,N,S,R]}class be extends oe{constructor(l){super(),re(this,l,xe,Ee,se,{data:10})}}export{be as component};
