import{s as ge,A as fe,b as r,c as I,t as _,d as o,f as g,j as st,i as N,g as v,h,k as L,l as Qt,m as t,q as A,B as _e,p as oe}from"../chunks/scheduler.C3aHL5nM.js";import{S as ve,i as pe,e as me,c as Ee,a as Ce,m as Le,t as Se,b as be,d as xe}from"../chunks/index.B0DoMMHu.js";import{e as Nt}from"../chunks/each.BPs89dqP.js";import{E as rt}from"../chunks/config.DNfGVc1F.js";import{E as ye,n as we,a as Te,h as Re,s as Ie}from"../chunks/tableColumns.DeyPIJOw.js";function ie(n,l,s){const i=n.slice();return i[15]=l[s].ethnicity,i[16]=l[s].count,i[17]=l[s].percentage,i}function ce(n,l,s){const i=n.slice();return i[20]=l[s].gender,i[16]=l[s].count,i[17]=l[s].percentage,i}function he(n){let l,s,i=n[16].toLocaleString()+"",m,O,S=n[17]+"",b,G,x,E=n[20]+"",p,f;return{c(){l=r("li"),s=r("strong"),m=_(i),O=_(" ("),b=_(S),G=_(`%)
							`),x=r("em"),p=_(E),f=I(),this.h()},l(d){l=o(d,"LI",{class:!0});var c=g(l);s=o(c,"STRONG",{});var k=g(s);m=v(k,i),k.forEach(h),O=v(c," ("),b=v(c,S),G=v(c,`%)
							`),x=o(c,"EM",{});var y=g(x);p=v(y,E),y.forEach(h),f=N(c),c.forEach(h),this.h()},h(){L(l,"class","svelte-2lx9ti")},m(d,c){Qt(d,l,c),t(l,s),t(s,m),t(l,O),t(l,b),t(l,G),t(l,x),t(x,p),t(l,f)},p(d,c){c&32&&i!==(i=d[16].toLocaleString()+"")&&A(m,i),c&32&&S!==(S=d[17]+"")&&A(b,S),c&32&&E!==(E=d[20]+"")&&A(p,E)},d(d){d&&h(l)}}}function ue(n){let l,s,i=n[16].toLocaleString()+"",m,O,S=n[17]+"",b,G,x,E=n[15]+"",p,f;return{c(){l=r("li"),s=r("strong"),m=_(i),O=_(" ("),b=_(S),G=_(`%)
							`),x=r("em"),p=_(E),f=I(),this.h()},l(d){l=o(d,"LI",{class:!0});var c=g(l);s=o(c,"STRONG",{});var k=g(s);m=v(k,i),k.forEach(h),O=v(c," ("),b=v(c,S),G=v(c,`%)
							`),x=o(c,"EM",{});var y=g(x);p=v(y,E),y.forEach(h),f=N(c),c.forEach(h),this.h()},h(){L(l,"class","svelte-2lx9ti")},m(d,c){Qt(d,l,c),t(l,s),t(s,m),t(l,O),t(l,b),t(l,G),t(l,x),t(x,p),t(l,f)},p(d,c){c&8&&i!==(i=d[16].toLocaleString()+"")&&A(m,i),c&8&&S!==(S=d[17]+"")&&A(b,S),c&8&&E!==(E=d[15]+"")&&A(p,E)},d(d){d&&h(l)}}}function Ne(n){let l,s,i,m,O="People",S,b,G=n[8].excerpt+"",x,E,p,f,d,c="Summary",k,y,ot,e,P=n[9].length.toLocaleString()+"",D,Ot,Pt,H,F,W,Wt="Completeness",Gt,j,U,it,ct=n[1].toLocaleString()+"",vt,Ht,pt,kt,At,V,ht,ut=n[0].toLocaleString()+"",mt,Dt,Et,Ut,Vt,M,X,Xt="Gender distribution",qt,Z,Bt,K,$,Zt="Ethnicity distribution",Ft,tt,jt,Y,et,$t="Nationality distribution",Mt,z,Kt,dt,gt=n[4].toLocaleString()+"",Ct,Yt,zt,q,Jt,B,at=Nt(n[5]),w=[];for(let a=0;a<at.length;a+=1)w[a]=he(ce(n,at,a));let nt=Nt(n[3]),T=[];for(let a=0;a<nt.length;a+=1)T[a]=ue(ie(n,nt,a));function de(a){n[14](a)}let te={data:n[9],columns:n[11],label:Oe,sortBy:n[12],url:n[10]};return n[2]!==void 0&&(te.view=n[2]),q=new ye({props:te}),fe.push(()=>me(q,"view",de)),{c(){l=r("article"),s=r("header"),i=r("hgroup"),m=r("h1"),m.textContent=O,S=I(),b=r("p"),x=_(G),E=I(),p=r("section"),f=r("hgroup"),d=r("h2"),d.textContent=c,k=I(),y=r("p"),ot=_("The database currently contains "),e=r("strong"),D=_(P),Ot=_(` documented
				people, with the following characteristics:`),Pt=I(),H=r("div"),F=r("article"),W=r("h3"),W.textContent=Wt,Gt=I(),j=r("ul"),U=r("li"),it=r("strong"),vt=_(ct),Ht=_(`
						(`),pt=_(n[7]),kt=_("%) have biographical information"),At=I(),V=r("li"),ht=r("strong"),mt=_(ut),Dt=_(`
						(`),Et=_(n[6]),Ut=_("%) have recorded alternative names"),Vt=I(),M=r("article"),X=r("h3"),X.textContent=Xt,qt=I(),Z=r("ul");for(let a=0;a<w.length;a+=1)w[a].c();Bt=I(),K=r("article"),$=r("h3"),$.textContent=Zt,Ft=I(),tt=r("ul");for(let a=0;a<T.length;a+=1)T[a].c();jt=I(),Y=r("article"),et=r("h3"),et.textContent=$t,Mt=I(),z=r("p"),Kt=_("The database includes people from "),dt=r("strong"),Ct=_(gt),Yt=_(`
					distinct nationalities.`),zt=I(),Ee(q.$$.fragment),this.h()},l(a){l=o(a,"ARTICLE",{});var C=g(l);s=o(C,"HEADER",{});var R=g(s);i=o(R,"HGROUP",{});var u=g(i);m=o(u,"H1",{"data-svelte-h":!0}),st(m)!=="svelte-120h8qb"&&(m.textContent=O),S=N(u),b=o(u,"P",{});var J=g(b);x=v(J,G),J.forEach(h),u.forEach(h),R.forEach(h),E=N(C),p=o(C,"SECTION",{class:!0});var Lt=g(p);f=o(Lt,"HGROUP",{});var St=g(f);d=o(St,"H2",{"data-svelte-h":!0}),st(d)!=="svelte-1yu8q5y"&&(d.textContent=c),k=N(St),y=o(St,"P",{class:!0});var bt=g(y);ot=v(bt,"The database currently contains "),e=o(bt,"STRONG",{});var ee=g(e);D=v(ee,P),ee.forEach(h),Ot=v(bt,` documented
				people, with the following characteristics:`),bt.forEach(h),St.forEach(h),Pt=N(Lt),H=o(Lt,"DIV",{class:!0});var Q=g(H);F=o(Q,"ARTICLE",{class:!0});var xt=g(F);W=o(xt,"H3",{class:!0,"data-svelte-h":!0}),st(W)!=="svelte-1v62mo4"&&(W.textContent=Wt),Gt=N(xt),j=o(xt,"UL",{class:!0});var yt=g(j);U=o(yt,"LI",{class:!0});var ft=g(U);it=o(ft,"STRONG",{});var le=g(it);vt=v(le,ct),le.forEach(h),Ht=v(ft,`
						(`),pt=v(ft,n[7]),kt=v(ft,"%) have biographical information"),ft.forEach(h),At=N(yt),V=o(yt,"LI",{class:!0});var _t=g(V);ht=o(_t,"STRONG",{});var ae=g(ht);mt=v(ae,ut),ae.forEach(h),Dt=v(_t,`
						(`),Et=v(_t,n[6]),Ut=v(_t,"%) have recorded alternative names"),_t.forEach(h),yt.forEach(h),xt.forEach(h),Vt=N(Q),M=o(Q,"ARTICLE",{class:!0});var wt=g(M);X=o(wt,"H3",{class:!0,"data-svelte-h":!0}),st(X)!=="svelte-1txaxcp"&&(X.textContent=Xt),qt=N(wt),Z=o(wt,"UL",{class:!0});var ne=g(Z);for(let lt=0;lt<w.length;lt+=1)w[lt].l(ne);ne.forEach(h),wt.forEach(h),Bt=N(Q),K=o(Q,"ARTICLE",{class:!0});var Tt=g(K);$=o(Tt,"H3",{class:!0,"data-svelte-h":!0}),st($)!=="svelte-1ao27w5"&&($.textContent=Zt),Ft=N(Tt),tt=o(Tt,"UL",{class:!0});var se=g(tt);for(let lt=0;lt<T.length;lt+=1)T[lt].l(se);se.forEach(h),Tt.forEach(h),jt=N(Q),Y=o(Q,"ARTICLE",{class:!0});var Rt=g(Y);et=o(Rt,"H3",{class:!0,"data-svelte-h":!0}),st(et)!=="svelte-c237ws"&&(et.textContent=$t),Mt=N(Rt),z=o(Rt,"P",{class:!0});var It=g(z);Kt=v(It,"The database includes people from "),dt=o(It,"STRONG",{});var re=g(dt);Ct=v(re,gt),re.forEach(h),Yt=v(It,`
					distinct nationalities.`),It.forEach(h),Rt.forEach(h),Q.forEach(h),Lt.forEach(h),zt=N(C),Ce(q.$$.fragment,C),C.forEach(h),this.h()},h(){L(y,"class","svelte-2lx9ti"),L(W,"class","svelte-2lx9ti"),L(U,"class","svelte-2lx9ti"),L(V,"class","svelte-2lx9ti"),L(j,"class","svelte-2lx9ti"),L(F,"class","card svelte-2lx9ti"),L(X,"class","svelte-2lx9ti"),L(Z,"class","svelte-2lx9ti"),L(M,"class","card svelte-2lx9ti"),L($,"class","svelte-2lx9ti"),L(tt,"class","svelte-2lx9ti"),L(K,"class","card svelte-2lx9ti"),L(et,"class","svelte-2lx9ti"),L(z,"class","svelte-2lx9ti"),L(Y,"class","card svelte-2lx9ti"),L(H,"class","summary-grid svelte-2lx9ti"),L(p,"class","svelte-2lx9ti")},m(a,C){Qt(a,l,C),t(l,s),t(s,i),t(i,m),t(i,S),t(i,b),t(b,x),t(l,E),t(l,p),t(p,f),t(f,d),t(f,k),t(f,y),t(y,ot),t(y,e),t(e,D),t(y,Ot),t(p,Pt),t(p,H),t(H,F),t(F,W),t(F,Gt),t(F,j),t(j,U),t(U,it),t(it,vt),t(U,Ht),t(U,pt),t(U,kt),t(j,At),t(j,V),t(V,ht),t(ht,mt),t(V,Dt),t(V,Et),t(V,Ut),t(H,Vt),t(H,M),t(M,X),t(M,qt),t(M,Z);for(let R=0;R<w.length;R+=1)w[R]&&w[R].m(Z,null);t(H,Bt),t(H,K),t(K,$),t(K,Ft),t(K,tt);for(let R=0;R<T.length;R+=1)T[R]&&T[R].m(tt,null);t(H,jt),t(H,Y),t(Y,et),t(Y,Mt),t(Y,z),t(z,Kt),t(z,dt),t(dt,Ct),t(z,Yt),t(l,zt),Le(q,l,null),B=!0},p(a,[C]){if((!B||C&2)&&ct!==(ct=a[1].toLocaleString()+"")&&A(vt,ct),(!B||C&128)&&A(pt,a[7]),(!B||C&1)&&ut!==(ut=a[0].toLocaleString()+"")&&A(mt,ut),(!B||C&64)&&A(Et,a[6]),C&32){at=Nt(a[5]);let u;for(u=0;u<at.length;u+=1){const J=ce(a,at,u);w[u]?w[u].p(J,C):(w[u]=he(J),w[u].c(),w[u].m(Z,null))}for(;u<w.length;u+=1)w[u].d(1);w.length=at.length}if(C&8){nt=Nt(a[3]);let u;for(u=0;u<nt.length;u+=1){const J=ie(a,nt,u);T[u]?T[u].p(J,C):(T[u]=ue(J),T[u].c(),T[u].m(tt,null))}for(;u<T.length;u+=1)T[u].d(1);T.length=nt.length}(!B||C&16)&&gt!==(gt=a[4].toLocaleString()+"")&&A(Ct,gt);const R={};!Jt&&C&4&&(Jt=!0,R.view=a[2],_e(()=>Jt=!1)),q.$set(R)},i(a){B||(Se(q.$$.fragment,a),B=!0)},o(a){be(q.$$.fragment,a),B=!1},d(a){a&&h(l),oe(w,a),oe(T,a),xe(q)}}}const Oe="people";function Pe(n,l,s){let i,m,O,S,b,G,x,{data:E}=l;const{_metadata:p,people:f,url:d}=E,c=[{header:"Slug",accessor:"slug"},we,Te,{header:"Gender",accessor:"gender",cell:({value:e})=>e??rt,plugins:{sort:{getSortValue(e){return(e||"").toLowerCase()}}}},{header:"Nationality",accessor:"nationality",cell:({value:e})=>e??rt,plugins:{sort:{getSortValue(e){return(e||"").toLowerCase()}}}},{header:"Ethnicity",accessor:"ethnicity",cell:({value:e})=>e??rt,plugins:{sort:{getSortValue(e){return(e||"").toLowerCase()}}}},{header:"Language",accessor:"language",cell:({value:e})=>e??rt,plugins:{sort:{getSortValue(e){return(e||"").toLowerCase()}}}},Re,Ie],k={initialSortKeys:[{id:"name",order:"asc"}]};let y="cards";function ot(e){y=e,s(2,y)}return n.$$set=e=>{"data"in e&&s(13,E=e.data)},n.$$.update=()=>{n.$$.dirty&2&&s(7,m=(i/f.length*100).toFixed(1)),n.$$.dirty&1&&s(6,S=(O/f.length*100).toFixed(1))},s(1,i=f.filter(e=>e.description).length),s(0,O=f.filter(e=>e.alternative_names).length),s(5,b=Object.entries(f.reduce((e,P)=>{const D=P.gender??rt;return e[D]=(e[D]||0)+1,e},{})).map(([e,P])=>({gender:e,count:P})).sort((e,P)=>e.gender.localeCompare(P.gender)).map(e=>({...e,percentage:(e.count/f.length*100).toFixed(1)}))),s(4,G=[...new Set(f.map(e=>e.nationality))].filter(Boolean).length),s(3,x=Object.entries(f.reduce((e,P)=>{const D=P.ethnicity??rt;return e[D]=(e[D]||0)+1,e},{})).map(([e,P])=>({ethnicity:e,count:P})).sort((e,P)=>e.ethnicity.localeCompare(P.ethnicity)).map(e=>({...e,percentage:(e.count/f.length*100).toFixed(1)}))),[O,i,y,x,G,b,S,m,p,f,d,c,k,E,ot]}class Ue extends ve{constructor(l){super(),pe(this,l,Pe,Ne,ge,{data:13})}}export{Ue as component};
